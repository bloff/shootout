# $Id: Makefile_threadring,v 1.1 2008-05-23 18:20:19 igouy-guest Exp $
include ../../Make.header

TEST    := threadring
TITLE   := Thread Ring

#XLABEL  := N (number of iterations)

CLEANOPTS := $(CLEANOPTS) -l /usr/lib/clean/lib/ArgEnvUnix/ArgEnvC.o \
		-I ../Include/clean -I ../../Include/clean \
		-IL StdLib

BIGLOOOPTS := -farithmetic
MZSCHEMEOPTS := -qu
OO2COPTS := -A --no-rtc
OCAMLOPTS  := -thread unix.cmxa threads.cmxa
OCAMLBOPTS := -vmthread unix.cma threads.cma
POLYOPTS := -q

CHICKENOPTS := -R mailbox

GPLCOPTS := --fast-math
GXXLDOPTS  := $(GXXLDOPTS) -lpthread

GCCOPTS :=  $(GCCOPTS) -lpthread
ICCOPTS := $(ICCOPTS) -lpthread

CALFLAGS := -Dorg.openquark.cal.machine.lecc.concurrent_runtime

RUNTESTS := $(MINIBENCH) --conf ../../Minibench.conf \
	  --range 100000,1000000,10000000 

include ../../Make.footer
