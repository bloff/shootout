# $Id: Makefile_chameneosredux,v 1.1 2008-05-23 18:24:36 igouy-guest Exp $
include ../../Make.header

TEST    := chameneosredux
TITLE   := Thread rendezvous

#XLABEL  := N (number of iterations)

BIGLOOOPTS := -farithmetic
GXXLDOPTS  := $(GXXLDOPTS) -lpthread
OCAMLOPTS  := -thread unix.cmxa threads.cmxa
OCAMLBOPTS := -vmthread unix.cma threads.cma
GCCOPTS := -lpthread
ICCOPTS := -lpthread
MB_GHCRTS := +RTS -K100M -RTS
CALFLAGS := -Dorg.openquark.cal.machine.lecc.concurrent_runtime
GHCOPTS := -fbang-patterns -funbox-strict-fields

RUNTESTS := $(MINIBENCH) --conf ../../Minibench.conf \
	  --range 60000,600000,6000000 \
	  --ndiff "-relerr 0.3"

include ../../Make.footer
