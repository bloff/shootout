"* The Computer Language Shootout
    http://shootout.alioth.debian.org/
    contributed by Eliot Miranda *"!

'From Squeak3.9 of 7 November 2006 [latest update: #7067] on 12 April 2007 at 8:58:36 pm'!
Object subclass: #Tests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Shootout'!!Tests class methodsFor: 'benchmarking' stamp: '  4/12/2007 20:56'!mandelbrot: extent to: output   | limit2 isOverLimit bits bitnum |   limit2 := 4.0.   bits := bitnum := 0.   0 to: extent - 1 do:      [:y |      0 to: extent - 1 do:         [:x | | zr zi cr ci i |         zr := zi := 0.0.         cr := 2.0 * x / extent - 1.5.         ci := 2.0 * y / extent - 1.0.         i := 0.         [| tr ti |         tr := zr * zr - (zi * zi) + cr.         ti := 2.0 * zr * zi + ci.         zr := tr.         zi := ti.         (isOverLimit := zr * zr + (zi * zi) > limit2) or: [(i := i + 1) >= 50]]            whileFalse.         bits := bits + bits.         isOverLimit ifFalse: [bits := bits + 1].         bitnum := bitnum + 1.         x = (extent - 1) ifTrue:            [bits := bits bitShift: 8 - bitnum.            bitnum := 8].         bitnum = 8 ifTrue:            [output nextPut: bits.            bits := 0.            bitnum := 0]]]! !!Tests class methodsFor: 'platform' stamp: '  4/12/2007 18:57'!arg   ^(SmalltalkImage current getSystemAttribute: 3) asInteger! !!Tests class methodsFor: 'platform' stamp: '  4/12/2007 19:03'!newline   ^Character lf! !!Tests class methodsFor: 'platform' stamp: '  4/12/2007 18:57'!stdout   ^UnixProcess stdOut! !!Tests class methodsFor: 'benchmark scripts' stamp: '  4/12/2007 20:55'!mandelbrot   | n |   n := self arg.   self stdout      nextPutAll: 'P4'; nextPut: self newline;      nextPutAll: n printString; space;       nextPutAll: n printString; nextPut: self newline;
      binary.   self mandelbrot: n to: self stdout.   ^''! !
