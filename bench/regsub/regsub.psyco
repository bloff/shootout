#!/usr/bin/python
# $Id: regsub.psyco,v 1.2 2004-07-07 07:02:03 bfulgham Exp $
# http://www.bagley.org/~doug/shootout/

import sys, posix, psyco, math, regex
from regsub import gsub
from regex_syntax import *
psyco.full()

iter = int(sys.argv[1])

rs = "foo bar baz foo bar baz foo bar baz foo bar baz foo bar baz foo bar baz"
syntax = regex.set_syntax(RE_SYNTAX_EGREP)

for i in range(ITER):
    rs = gsub("fooWORD", "\1", gsub("foo ", "\1WORD ", rs))
