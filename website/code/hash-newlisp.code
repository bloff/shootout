<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
#!/usr/bin/newlisp

#
# hash - benchmark
# create i=1-&gt;n symbols with value i
# count all exsiting symbols in reverse
#
# newLISP does not have hashtables but can
# simlate hashes with symbols
#
# Contributed by Lutz Mueller

(context 'HASH) <I><FONT COLOR="#B22222">; create hash container
</FONT></I>(context 'MAIN) <I><FONT COLOR="#B22222">; go back to MAIN context
</FONT></I>
(set 'n (integer (nth 2 (main-args))))

(for (i 1 n)
	(set (symbol (format <B><FONT COLOR="#BC8F8F">&quot;_%x&quot;</FONT></B> (integer i)) HASH) i) )

(set 'cnt 0)
(for (i n 1)
	(<B><FONT COLOR="#A020F0">if</FONT></B> (symbol (format <B><FONT COLOR="#BC8F8F">&quot;_%d&quot;</FONT></B> (integer i)) HASH nil) (inc 'cnt)))

(println cnt)

(exit)
</pre></td></tr></table>
