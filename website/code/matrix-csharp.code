<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">// $Id: matrix-csharp.code,v 1.2 2004-11-08 08:15:15 bfulgham Exp $
</FONT></I><I><FONT COLOR="#B22222">// http://shootout.alioth.debian.org/
</FONT></I><I><FONT COLOR="#B22222">// Some clean-ups by Brent Fulgham
</FONT></I>
using System;

class matrix {

    <B><FONT COLOR="#228B22">static</FONT></B> <B><FONT COLOR="#228B22">int</FONT></B> SIZE = 30;

    public <B><FONT COLOR="#228B22">static</FONT></B> <B><FONT COLOR="#228B22">int</FONT></B>[,] mkmatrix (<B><FONT COLOR="#228B22">int</FONT></B> rows, <B><FONT COLOR="#228B22">int</FONT></B> cols) {
        <B><FONT COLOR="#228B22">int</FONT></B> count = 1;
        <B><FONT COLOR="#228B22">int</FONT></B>[,] m = new <B><FONT COLOR="#228B22">int</FONT></B>[rows,cols];
        <B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#228B22">int</FONT></B> i = 0; i &lt; rows; i++) {
            <B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#228B22">int</FONT></B> j = 0; j &lt; cols; j++) {
                m[i,j] = count++;
            }
        }
        <B><FONT COLOR="#A020F0">return</FONT></B>(m);
    }

    public <B><FONT COLOR="#228B22">static</FONT></B> <B><FONT COLOR="#228B22">void</FONT></B> mmult (<B><FONT COLOR="#228B22">int</FONT></B> rows, <B><FONT COLOR="#228B22">int</FONT></B> cols, 
                          <B><FONT COLOR="#228B22">int</FONT></B>[,] m1, <B><FONT COLOR="#228B22">int</FONT></B>[,] m2, <B><FONT COLOR="#228B22">int</FONT></B>[,] m3) {
        <B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#228B22">int</FONT></B> i = 0; i &lt; rows; i++) {
            <B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#228B22">int</FONT></B> j = 0; j &lt; cols; j++) {
                <B><FONT COLOR="#228B22">int</FONT></B> val = 0;
                <B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#228B22">int</FONT></B> k = 0; k &lt; cols; k++) {
                    val += m1[i,k] * m2[k,j];
                }
                m3[i,j] = val;
            }
        }
    }

    public <B><FONT COLOR="#228B22">static</FONT></B> <B><FONT COLOR="#228B22">void</FONT></B> Main(String[] args) {        
        <B><FONT COLOR="#228B22">int</FONT></B>[,] m1 = mkmatrix(SIZE, SIZE);
        <B><FONT COLOR="#228B22">int</FONT></B>[,] m2 = mkmatrix(SIZE, SIZE);
        <B><FONT COLOR="#228B22">int</FONT></B>[,] mm = new <B><FONT COLOR="#228B22">int</FONT></B>[SIZE,SIZE];
        
        <B><FONT COLOR="#228B22">int</FONT></B> n = System.Convert.ToInt32(args[0]);
        <B><FONT COLOR="#A020F0">if</FONT></B>(n &lt; 1) n = 1;
        
        <B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#228B22">int</FONT></B> i=0; i&lt;n; i++) {
            mmult(SIZE, SIZE, m1, m2, mm);
        }
        
        Console.WriteLine(<B><FONT COLOR="#BC8F8F">&quot;{0} {1} {2} {3}&quot;</FONT></B>, mm[0,0], mm[2,3],
		mm[3,2], mm[4,4]);
    }
}</pre></td></tr></table>
