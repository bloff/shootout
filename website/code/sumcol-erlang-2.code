<span class="slc">%%% The Computer Language Benchmarks Game</span>
<span class="slc">%%% http://shootout.alioth.debian.org/</span>
<span class="slc">%%% contributed by Fredrik Svahn</span>

<span class="sym">-</span><span class="kwa">module</span><span class="sym">(</span>sumcol<span class="sym">).</span>
<span class="sym">-</span><span class="kwa">export</span><span class="sym">([</span>main<span class="sym">/</span><span class="num">1</span><span class="sym">]).</span>
<span class="sym">-</span><span class="kwa">define</span><span class="sym">(</span>stdin<span class="sym">,</span><span class="num">0</span><span class="sym">).</span>
<span class="sym">-</span><span class="kwa">define</span><span class="sym">(</span>stdout<span class="sym">,</span><span class="num">1</span><span class="sym">).</span>
<span class="sym">-</span><span class="kwa">define</span><span class="sym">(</span>maxline<span class="sym">,</span><span class="num">128</span><span class="sym">).</span>

<span class="kwd">main</span><span class="sym">(</span>_<span class="sym">)-&gt;</span>
    <span class="kwb">open_port</span><span class="sym">({</span>fd<span class="sym">, ?</span>stdin<span class="sym">, ?</span>stdout<span class="sym">}, [{</span>line<span class="sym">, ?</span>maxline<span class="sym">},</span> eof<span class="sym">]),</span>
    io<span class="sym">:</span><span class="kwd">format</span><span class="sym">(</span><span class="str">&quot;~p~n&quot;</span><span class="sym">,[</span><span class="kwd">read</span><span class="sym">(</span><span class="num">0</span><span class="sym">)]),</span>
    <span class="kwb">halt</span><span class="sym">().</span>


<span class="kwd">read</span><span class="sym">(</span>Sum<span class="sym">)-&gt;</span>
    <span class="kwa">receive</span>
	<span class="sym">{</span>_<span class="sym">,</span> eof<span class="sym">}            -&gt;</span> Sum<span class="sym">;</span>
	<span class="sym">{</span>_<span class="sym">, {</span>data<span class="sym">, {</span>_<span class="sym">,</span> S<span class="sym">}}} -&gt;</span> <span class="kwd">read</span><span class="sym">(</span>Sum <span class="sym">+</span> <span class="kwb">element</span><span class="sym">(</span><span class="num">1</span><span class="sym">,</span> string<span class="sym">:</span><span class="kwd">to_integer</span><span class="sym">(</span>S<span class="sym">)))</span>
    <span class="kwa">end</span><span class="sym">.</span>




