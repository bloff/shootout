<span class="sym">!</span> The Great Computer Language Shootout
<span class="sym">!</span> http<span class="sym">:</span><span class="slc">//shootout.alioth.debian.org/
</span><span class="sym">!
!</span> Written by S<span class="sym">.</span>J<span class="sym">.</span>Geard <span class="num">27</span><span class="sym">/</span><span class="num">02</span><span class="sym">/</span><span class="num">2005</span><span class="sym">,</span> adapted from the Lua program
<span class="sym">!
!</span> ifort harmonic<span class="sym">.</span>f90 <span class="sym">-</span>O3 <span class="sym">-</span><span class="kwb">static</span><span class="sym">-</span>libcxa <span class="sym">-</span>o harmonic
<span class="sym">!
!</span> Correct output <span class="kwa">for</span> <span class="num">10</span><span class="sym">,</span><span class="num">000</span><span class="sym">,</span><span class="num">000</span> is <span class="num">16.695311366
</span><span class="sym">!
</span>program harmonic
  implicit none
  integer <span class="sym">::</span> i<span class="sym">,</span> n
  real<span class="sym">*</span><span class="num">8</span>  <span class="sym">::</span> partialSum
  real<span class="sym">*</span><span class="num">8</span>  <span class="sym">::</span> d
  character<span class="sym">(</span>len<span class="sym">=</span><span class="num">8</span><span class="sym">)</span> argv

  call getarg<span class="sym">(</span><span class="num">1</span><span class="sym">,</span>argv<span class="sym">)
</span>  read<span class="sym">(</span>argv<span class="sym">,</span><span class="str">'(i8)'</span><span class="sym">)</span> n
  d <span class="sym">=</span> <span class="num">0.0d0</span><span class="sym">;</span> partialSum <span class="sym">=</span> <span class="num">0.0d0
</span>  <span class="kwa">do</span> i<span class="sym">=</span><span class="num">1</span><span class="sym">,</span>n
     d <span class="sym">=</span> d <span class="sym">+</span> <span class="num">1.0d0
</span>     partialSum <span class="sym">=</span> partialSum <span class="sym">+ (</span><span class="num">1.0d0</span><span class="sym">/</span>d<span class="sym">)
</span>  end <span class="kwa">do
</span>  write<span class="sym">(*,</span><span class="str">'(f0.9)'</span><span class="sym">)</span> partialSum

end program harmonic
