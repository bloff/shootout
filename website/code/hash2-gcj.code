<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">// $Id: hash2-gcj.code,v 1.1 2004-11-02 08:52:31 bfulgham Exp $
</FONT></I><I><FONT COLOR="#B22222">// http://www.bagley.org/~doug/shootout/
</FONT></I>
<B><FONT COLOR="#A020F0">import</FONT></B> java.util.*;

<B><FONT COLOR="#A020F0">class</FONT></B> Val {
    <B><FONT COLOR="#A020F0">int</FONT></B> val;
    Val(<B><FONT COLOR="#A020F0">int</FONT></B> init) { val = init; }
}

<B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">class</FONT></B> hash2 {
    <B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">static</FONT></B> <B><FONT COLOR="#A020F0">void</FONT></B> main(String args[]) {
	<B><FONT COLOR="#A020F0">int</FONT></B> n = Integer.parseInt(args[0]);
	HashMap hash1 = <B><FONT COLOR="#A020F0">new</FONT></B> HashMap(10000);
	HashMap hash2 = <B><FONT COLOR="#A020F0">new</FONT></B> HashMap(n);

	<B><FONT COLOR="#A020F0">for</FONT></B>(<B><FONT COLOR="#A020F0">int</FONT></B> i = 0; i &lt; 10000; i++)
	    hash1.put(<B><FONT COLOR="#BC8F8F">&quot;foo_&quot;</FONT></B> + Integer.toString(i, 10), <B><FONT COLOR="#A020F0">new</FONT></B> Val(i));
	<B><FONT COLOR="#A020F0">for</FONT></B>(<B><FONT COLOR="#A020F0">int</FONT></B> i = 0; i &lt; n; i++) {
	    Iterator it = hash1.entrySet().iterator();
	    <B><FONT COLOR="#A020F0">while</FONT></B>(it.hasNext()) {
			Map.Entry h1 = (Map.Entry)it.next();
			String key = (String)h1.getKey();
			<B><FONT COLOR="#A020F0">int</FONT></B> v1 = ((Val)h1.getValue()).val;
			<B><FONT COLOR="#A020F0">if</FONT></B> (hash2.containsKey(key))
				((Val)hash2.get(key)).val += v1;
			<B><FONT COLOR="#A020F0">else</FONT></B>
				hash2.put(key, <B><FONT COLOR="#A020F0">new</FONT></B> Val(v1));
	    }
	}

	System.out.print(((Val)hash1.get(<B><FONT COLOR="#BC8F8F">&quot;foo_1&quot;</FONT></B>)).val    + <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> +
	                 ((Val)hash1.get(<B><FONT COLOR="#BC8F8F">&quot;foo_9999&quot;</FONT></B>)).val + <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> +
	                 ((Val)hash2.get(<B><FONT COLOR="#BC8F8F">&quot;foo_1&quot;</FONT></B>)).val    + <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> +
	                 ((Val)hash2.get(<B><FONT COLOR="#BC8F8F">&quot;foo_9999&quot;</FONT></B>)).val + <B><FONT COLOR="#BC8F8F">&quot;\n&quot;</FONT></B>);
    }
}</pre></td></tr></table>
