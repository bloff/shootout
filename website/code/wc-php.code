<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
&lt;? /* The Great Computer Language Shootout
      contributed by Isaac Gouy 

      php -<B><FONT COLOR="#A020F0">q</FONT></B> wc.php &lt; in.txt 
*/ 


$nl = $nw = $nc = 0;
$hasSplitWord = FALSE;

$fp = fopen(<B><FONT COLOR="#BC8F8F">&quot;php://stdin&quot;</FONT></B>, <B><FONT COLOR="#BC8F8F">&quot;r&quot;</FONT></B>);
<B><FONT COLOR="#A020F0">while</FONT></B> ($block = fread($fp, 4096)){

   $nc += strlen($block);

   $pos = 0;
   <B><FONT COLOR="#A020F0">while</FONT></B> ($pos = strpos($block,<B><FONT COLOR="#BC8F8F">&quot;\n&quot;</FONT></B>, $pos+1)) $nl++;


   $words = preg_split(<B><FONT COLOR="#BC8F8F">'/\s+/'</FONT></B>, $block);

   <B><FONT COLOR="#A020F0">if</FONT></B> ($size = sizeof($words)){
      $nw += $size;                 // count all the splits as words 
                                    // and then correct for empty words
      <B><FONT COLOR="#A020F0">if</FONT></B> (strlen($words[0])){          
         <B><FONT COLOR="#A020F0">if</FONT></B> ($hasSplitWord) $nw--;  // we counted the split-word twice
      } <B><FONT COLOR="#A020F0">else</FONT></B> {
         $nw--;                     // there was no first word
      }
      $hasSplitWord = strlen($words[$size-1]);
      <B><FONT COLOR="#A020F0">if</FONT></B> (!$hasSplitWord) $nw--;    // there was no last word
   }

   unset($words);
}
fclose($fp);

<B><FONT COLOR="#A020F0">print</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;$nl $nw $nc\n&quot;</FONT></B>;

?&gt;</pre></td></tr></table>
