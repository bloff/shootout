<span class="slc">;;; The Great Computer Language Shootout
</span><span class="slc">;;; http://shootout.alioth.debian.org/
</span><span class="slc">;;;
</span><span class="slc">;;; spellcheck benchmark
</span><span class="slc">;;;
</span><span class="slc">;;; Contributed by Ruhi Bloodworth
</span>
<span class="slc">; read the word dictionary
</span><span class="slc">; read words from standard input and print those words
</span><span class="slc">;    which do not appear in the dictionary
</span><span class="slc">; both the dictionary and standard input have only one word per line
</span><span class="slc">; no line will exceed 128 characters (including newline)
</span>
<span class="sym">(</span>declare
 <span class="sym">(</span>uses utils<span class="sym">)
 (</span>disable<span class="sym">-</span>interrupts<span class="sym">)
 (</span>block<span class="sym">)
 (</span>usual<span class="sym">-</span>integrations<span class="sym">)
 (</span>fixnum<span class="sym">))

(</span>define dict <span class="sym">(</span>make<span class="sym">-</span>hash<span class="sym">-</span>table string<span class="sym">=</span>? <span class="num">10000</span><span class="sym">))

(</span>for<span class="sym">-</span>each<span class="sym">-</span><span class="kwa">line</span> <span class="sym">(</span>cute hash<span class="sym">-</span>table<span class="sym">-</span><span class="kwa">set</span><span class="sym">!</span> dict <span class="sym">&lt;&gt;</span> #t<span class="sym">)
	       (</span><span class="kwa">open</span><span class="sym">-</span>input<span class="sym">-</span>file <span class="str">&quot;Usr.Dict.Words&quot;</span><span class="sym">))

(</span>for<span class="sym">-</span>each<span class="sym">-</span><span class="kwa">line</span> <span class="sym">(</span><span class="kwa">lambda</span> <span class="sym">(</span>word<span class="sym">)
		 (</span>unless <span class="sym">(</span>hash<span class="sym">-</span>table<span class="sym">-</span>ref dict word<span class="sym">)
			 (</span><span class="kwa">print</span> word<span class="sym">))))
</span>
