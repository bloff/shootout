<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">(* The Great Computer Language Shootout
   http://shootout.alioth.debian.org

   contributed by Isaac Gouy (Oberon-2 novice)
*)</FONT></I>

<B><FONT COLOR="#228B22">MODULE</FONT></B> Except;
<B><FONT COLOR="#5F9EA0">IMPORT</FONT></B> LangShootout, Exception, Out;
 
<B><FONT COLOR="#A020F0">TYPE</FONT></B>   
   LoException <B><FONT COLOR="#5F9EA0">=</FONT></B> <B><FONT COLOR="#228B22">POINTER</FONT></B> <B><FONT COLOR="#A020F0">TO</FONT></B> LoExceptionDesc;
   LoExceptionDesc <B><FONT COLOR="#5F9EA0">=</FONT></B> <B><FONT COLOR="#228B22">RECORD</FONT></B> (Exception.UncheckedDesc) <B><FONT COLOR="#A020F0">END</FONT></B>; 
   
   HiException <B><FONT COLOR="#5F9EA0">=</FONT></B> <B><FONT COLOR="#228B22">POINTER</FONT></B> <B><FONT COLOR="#A020F0">TO</FONT></B> HiExceptionDesc;
   HiExceptionDesc <B><FONT COLOR="#5F9EA0">=</FONT></B> <B><FONT COLOR="#228B22">RECORD</FONT></B> (Exception.UncheckedDesc) <B><FONT COLOR="#A020F0">END</FONT></B>;  
                
<B><FONT COLOR="#A020F0">VAR</FONT></B>
   n, i, loCount, hiCount: <B><FONT COLOR="#228B22">LONGINT</FONT></B>;
   lo: LoException; 
   hi: HiException;   
             
<B><FONT COLOR="#A020F0">PROCEDURE </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">Blowup</FONT></I></B></FONT></B>(n: <B><FONT COLOR="#228B22">LONGINT</FONT></B>);             
<B><FONT COLOR="#A020F0">BEGIN</FONT></B>
   <B><FONT COLOR="#A020F0">IF</FONT></B> <B><FONT COLOR="#A020F0">ODD</FONT></B>(n) <B><FONT COLOR="#A020F0">THEN</FONT></B> RAISE(hi); <B><FONT COLOR="#A020F0">ELSE</FONT></B> RAISE(lo); <B><FONT COLOR="#A020F0">END</FONT></B>;
<B><FONT COLOR="#A020F0">END </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">Blowup</FONT></I></B></FONT></B>;              
             
<B><FONT COLOR="#A020F0">PROCEDURE </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">LoProc</FONT></I></B></FONT></B>(n: <B><FONT COLOR="#228B22">LONGINT</FONT></B>);             
<B><FONT COLOR="#A020F0">BEGIN</FONT></B>
   TRY Blowup(n); CATCH LoException: <B><FONT COLOR="#A020F0">INC</FONT></B>(loCount); <B><FONT COLOR="#A020F0">END</FONT></B>;
<B><FONT COLOR="#A020F0">END </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">LoProc</FONT></I></B></FONT></B>; 

<B><FONT COLOR="#A020F0">PROCEDURE </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">HiProc</FONT></I></B></FONT></B>(n: <B><FONT COLOR="#228B22">LONGINT</FONT></B>);             
<B><FONT COLOR="#A020F0">BEGIN</FONT></B>
   TRY LoProc(n); CATCH HiException: <B><FONT COLOR="#A020F0">INC</FONT></B>(hiCount); <B><FONT COLOR="#A020F0">END</FONT></B>;
<B><FONT COLOR="#A020F0">END </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">HiProc</FONT></I></B></FONT></B>;     

<B><FONT COLOR="#A020F0">PROCEDURE </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">SomeProc</FONT></I></B></FONT></B>(n: <B><FONT COLOR="#228B22">LONGINT</FONT></B>);             
<B><FONT COLOR="#A020F0">BEGIN</FONT></B>
   TRY HiProc(n); 
   CATCH Exception.Unchecked: 
      Out.String(<B><FONT COLOR="#BC8F8F">&quot;We shouldn't get here!&quot;</FONT></B>); Out.Ln;
   <B><FONT COLOR="#A020F0">END</FONT></B>;
<B><FONT COLOR="#A020F0">END </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">SomeProc</FONT></I></B></FONT></B>;       
                          
<B><FONT COLOR="#A020F0">BEGIN</FONT></B>    
   n <B><FONT COLOR="#5F9EA0">:=</FONT></B> LangShootout.Argi(); <B><FONT COLOR="#A020F0">NEW</FONT></B>(lo); <B><FONT COLOR="#A020F0">NEW</FONT></B>(hi);
   <B><FONT COLOR="#A020F0">FOR</FONT></B> i <B><FONT COLOR="#5F9EA0">:=</FONT></B> 1 <B><FONT COLOR="#A020F0">TO</FONT></B> n <B><FONT COLOR="#A020F0">DO</FONT></B> SomeProc(i); <B><FONT COLOR="#A020F0">END</FONT></B>;
   Out.String(<B><FONT COLOR="#BC8F8F">&quot;Exceptions: HI=&quot;</FONT></B>); Out.Int(hiCount, 0);
   Out.String(<B><FONT COLOR="#BC8F8F">&quot; / LO=&quot;</FONT></B>); Out.Int(loCount, 0); Out.Ln;
<B><FONT COLOR="#A020F0">END </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">Except</FONT></I></B></FONT></B>. </pre></td></tr></table>
