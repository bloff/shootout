<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">#!/usr/bin/perl
</FONT></I><I><FONT COLOR="#B22222"># $Id: moments-perl.code,v 1.1 2004-11-02 08:52:37 bfulgham Exp $
</FONT></I><I><FONT COLOR="#B22222"># http://www.bagley.org/~doug/shootout/
</FONT></I>
<B><FONT COLOR="#A020F0">use</FONT></B> strict;

<B><FONT COLOR="#A020F0">my</FONT></B> @nums = &lt;STDIN&gt;;
<B><FONT COLOR="#A020F0">my</FONT></B> $sum = 0;
<B><FONT COLOR="#A020F0">foreach</FONT></B> (@nums) { $sum += $_ }
<B><FONT COLOR="#A020F0">my</FONT></B> $n = <B><FONT COLOR="#A020F0">scalar</FONT></B>(@nums);
<B><FONT COLOR="#A020F0">my</FONT></B> $mean = $sum/$n;
<B><FONT COLOR="#A020F0">my</FONT></B> $average_deviation = 0;
<B><FONT COLOR="#A020F0">my</FONT></B> $standard_deviation = 0;
<B><FONT COLOR="#A020F0">my</FONT></B> $variance = 0;
<B><FONT COLOR="#A020F0">my</FONT></B> $skew = 0;
<B><FONT COLOR="#A020F0">my</FONT></B> $kurtosis = 0;
<B><FONT COLOR="#A020F0">foreach</FONT></B> (@nums) {
    <B><FONT COLOR="#A020F0">my</FONT></B> $deviation = $_ - $mean;
    $average_deviation += <B><FONT COLOR="#A020F0">abs</FONT></B>($deviation);
    $variance += $deviation**2;
    $skew += $deviation**3;
    $kurtosis += $deviation**4;
}
$average_deviation /= $n;
$variance /= ($n - 1);
$standard_deviation = <B><FONT COLOR="#A020F0">sqrt</FONT></B>($variance);

<B><FONT COLOR="#A020F0">if</FONT></B> ($variance) {
    $skew /= ($n * $variance * $standard_deviation);
    $kurtosis = $kurtosis/($n * $variance * $variance) - 3.0;
}

@nums = <B><FONT COLOR="#A020F0">sort</FONT></B> { $a &lt;=&gt; $b } @nums;
<B><FONT COLOR="#A020F0">my</FONT></B> $mid = <B><FONT COLOR="#A020F0">int</FONT></B>($n/2);
<B><FONT COLOR="#A020F0">my</FONT></B> $median = ($n % 2) ? $nums[$mid] : ($nums[$mid] + $nums[$mid-1])/2;

<B><FONT COLOR="#A020F0">printf</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;n:                  %d\n&quot;</FONT></B>, $n);
<B><FONT COLOR="#A020F0">printf</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;median:             %f\n&quot;</FONT></B>, $median);
<B><FONT COLOR="#A020F0">printf</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;mean:               %f\n&quot;</FONT></B>, $mean);
<B><FONT COLOR="#A020F0">printf</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;average_deviation:  %f\n&quot;</FONT></B>, $average_deviation);
<B><FONT COLOR="#A020F0">printf</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;standard_deviation: %f\n&quot;</FONT></B>, $standard_deviation);
<B><FONT COLOR="#A020F0">printf</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;variance:           %f\n&quot;</FONT></B>, $variance);
<B><FONT COLOR="#A020F0">printf</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;skew:               %f\n&quot;</FONT></B>, $skew);
<B><FONT COLOR="#A020F0">printf</FONT></B>(<B><FONT COLOR="#BC8F8F">&quot;kurtosis:           %f\n&quot;</FONT></B>, $kurtosis);</pre></td></tr></table>
