<span class="slc">#!/usr/bin/python</span>
<span class="slc"># $Id: spellcheck-psyco.code,v 1.4 2006-01-12 08:23:07 bfulgham Exp $</span>
<span class="slc"># http://shootout.alioth.debian.org/</span>
<span class="slc">#</span>
<span class="slc"># From Tupteq, based on original code by Fred Bremmer</span>

<span class="kwc">import</span> sys<span class="sym">,</span> psyco

psyco<span class="sym">.</span><span class="kwd">full</span><span class="sym">()</span>

<span class="kwb">def</span> <span class="kwd">main</span><span class="sym">():</span>
    dict <span class="sym">=</span> <span class="kwd">set</span><span class="sym">(</span>line<span class="sym">[:-</span><span class="num">1</span><span class="sym">]</span> <span class="kwb">for</span> line <span class="kwb">in</span> <span class="kwd">file</span><span class="sym">(</span><span class="str">&quot;Usr.Dict.Words&quot;</span><span class="sym">)</span> <span class="kwb">if</span> line <span class="sym">!=</span> <span class="str">'</span><span class="esc">\n</span><span class="str">'</span><span class="sym">)</span>

    <span class="kwb">for</span> line <span class="kwb">in</span> sys<span class="sym">.</span>stdin<span class="sym">:</span>
        word <span class="sym">=</span> line<span class="sym">[:-</span><span class="num">1</span><span class="sym">]</span>
        <span class="kwb">if</span> word <span class="kwb">and</span> word <span class="kwb">not in</span> dict<span class="sym">:</span>
	    <span class="kwb">print</span> word

<span class="kwd">main</span><span class="sym">()</span>
