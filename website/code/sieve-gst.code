<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<B><FONT COLOR="#BC8F8F">&quot;  The Great Computer Language Shootout
   contributed by Isaac Gouy

   To run: gst -QI /usr/local/share/smalltalk/gst.im sieve.st -a 900
&quot;</FONT></B>

| n start stop isPrime count |
n := Smalltalk arguments first asInteger.

start := 2. stop := 8192. 
isPrime := Array <B><FONT COLOR="#A020F0">new</FONT></B>: stop.

n timesRepeat: [
   count := 0.
   start to: stop <B><FONT COLOR="#A020F0">do</FONT></B>: [:i| isPrime at: i put: true].

   start to: stop <B><FONT COLOR="#A020F0">do</FONT></B>: [:i|
      (isPrime at: i) ifTrue: [ 
         i+i to: stop by: i <B><FONT COLOR="#A020F0">do</FONT></B>: [:j| isPrime at: j put: false].
         count := count + 1.
      ].
   ].
].

Transcript show: <B><FONT COLOR="#BC8F8F">'Count: '</FONT></B>, count printString; nl !</pre></td></tr></table>
