<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">#!/usr/bin/perl 
</FONT></I><I><FONT COLOR="#B22222"># $Id: lists-perl.code,v 1.1 2004-11-02 08:52:33 bfulgham Exp $
</FONT></I><B><FONT COLOR="#A020F0">use</FONT></B> strict;

<B><FONT COLOR="#A020F0">my</FONT></B> $SIZE = 10000;

<B><FONT COLOR="#A020F0">my</FONT></B> $ITER = $ARGV[0];
$ITER = 1 <B><FONT COLOR="#A020F0">if</FONT></B> ($ITER &lt; 1);

<B><FONT COLOR="#A020F0">my</FONT></B> $result = 0;
<B><FONT COLOR="#A020F0">while</FONT></B> ($ITER--) {
    $result = &amp;test_lists();
}
<B><FONT COLOR="#A020F0">print</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;$result\n&quot;</FONT></B>;

<B><FONT COLOR="#A020F0">sub</FONT></B> test_lists {
    <I><FONT COLOR="#B22222"># create a list of integers (Li1) from 1 to SIZE
</FONT></I>    <B><FONT COLOR="#A020F0">my</FONT></B> @Li1 = (1..$SIZE);
    <I><FONT COLOR="#B22222"># copy the list to Li2 (not by individual items)
</FONT></I>    <B><FONT COLOR="#A020F0">my</FONT></B> @Li2 = @Li1;
    <B><FONT COLOR="#A020F0">my</FONT></B> @Li3 = ();
    <I><FONT COLOR="#B22222"># remove each individual item from left side of Li2 and
</FONT></I>    <I><FONT COLOR="#B22222"># append to right side of Li3 (preserving order)
</FONT></I>    <B><FONT COLOR="#A020F0">push</FONT></B>(@Li3, <B><FONT COLOR="#A020F0">shift</FONT></B> @Li2) <B><FONT COLOR="#A020F0">while</FONT></B> (@Li2);
    <I><FONT COLOR="#B22222"># Li2 must now be empty
</FONT></I>    <I><FONT COLOR="#B22222"># remove each individual item from right side of Li3 and
</FONT></I>    <I><FONT COLOR="#B22222"># append to right side of Li2 (reversing list)
</FONT></I>    <B><FONT COLOR="#A020F0">push</FONT></B>(@Li2, <B><FONT COLOR="#A020F0">pop</FONT></B> @Li3) <B><FONT COLOR="#A020F0">while</FONT></B> (@Li3);
    <I><FONT COLOR="#B22222"># Li3 must now be empty
</FONT></I>    <I><FONT COLOR="#B22222"># reverse Li1 in place
</FONT></I>    @Li1 = <B><FONT COLOR="#A020F0">reverse</FONT></B> @Li1;
    <I><FONT COLOR="#B22222"># check that first item is now SIZE
</FONT></I>    <B><FONT COLOR="#A020F0">return</FONT></B>(0) <B><FONT COLOR="#A020F0">if</FONT></B> $Li1[0] != $SIZE;
    <I><FONT COLOR="#B22222"># compare Li1 and Li2 for equality
</FONT></I>    <B><FONT COLOR="#A020F0">my</FONT></B> $len1 = <B><FONT COLOR="#A020F0">scalar</FONT></B>(@Li1);
    <B><FONT COLOR="#A020F0">my</FONT></B> $len2 = <B><FONT COLOR="#A020F0">scalar</FONT></B>(@Li2);
    <B><FONT COLOR="#A020F0">my</FONT></B> $lists_equal = ($len1 == $len2);
    <B><FONT COLOR="#A020F0">return</FONT></B>(0) <B><FONT COLOR="#A020F0">if</FONT></B> <B><FONT COLOR="#A020F0">not</FONT></B> $lists_equal;
    <B><FONT COLOR="#A020F0">for</FONT></B> <B><FONT COLOR="#A020F0">my</FONT></B> $i (0..($len1-1)) {
	<B><FONT COLOR="#A020F0">if</FONT></B> ($Li1[$i] != $Li2[$i]) {
	    $lists_equal = 0;
	    <B><FONT COLOR="#A020F0">last</FONT></B>;
	}
    }
    <B><FONT COLOR="#A020F0">return</FONT></B>(0) <B><FONT COLOR="#A020F0">if</FONT></B> <B><FONT COLOR="#A020F0">not</FONT></B> $lists_equal;
    <I><FONT COLOR="#B22222"># return the length of the list
</FONT></I>    <B><FONT COLOR="#A020F0">return</FONT></B>($len1);
}</pre></td></tr></table>
