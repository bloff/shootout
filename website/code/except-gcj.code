<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">// $Id: except-gcj.code,v 1.2 2004-11-08 08:15:13 bfulgham Exp $
</FONT></I><I><FONT COLOR="#B22222">// http://www.bagley.org/~doug/shootout/
</FONT></I><I><FONT COLOR="#B22222">// Collection class code is from my friend Phil Chu, Thanks Phil!
</FONT></I>
<B><FONT COLOR="#A020F0">import</FONT></B> java.io.*;
<B><FONT COLOR="#A020F0">import</FONT></B> java.util.*;
<B><FONT COLOR="#A020F0">import</FONT></B> java.text.*;

<B><FONT COLOR="#A020F0">class</FONT></B> Lo_Exception <B><FONT COLOR="#A020F0">extends</FONT></B> Exception {
    <B><FONT COLOR="#A020F0">int</FONT></B> num = 0;
    <B><FONT COLOR="#A020F0">public</FONT></B> Lo_Exception(<B><FONT COLOR="#A020F0">int</FONT></B> num) {
	<B><FONT COLOR="#A020F0">this</FONT></B>.num = num;
    }
    <B><FONT COLOR="#A020F0">public</FONT></B> String toString() {
	<B><FONT COLOR="#A020F0">return</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Lo_Exception, num = &quot;</FONT></B> + <B><FONT COLOR="#A020F0">this</FONT></B>.num;
    }
}

<B><FONT COLOR="#A020F0">class</FONT></B> Hi_Exception <B><FONT COLOR="#A020F0">extends</FONT></B> Exception {
    <B><FONT COLOR="#A020F0">int</FONT></B> num = 0;
    <B><FONT COLOR="#A020F0">public</FONT></B> Hi_Exception(<B><FONT COLOR="#A020F0">int</FONT></B> num) {
	<B><FONT COLOR="#A020F0">this</FONT></B>.num = num;
    }
    <B><FONT COLOR="#A020F0">public</FONT></B> String toString() {
	<B><FONT COLOR="#A020F0">return</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Hi_Exception, num = &quot;</FONT></B> + <B><FONT COLOR="#A020F0">this</FONT></B>.num;
    }
}

<B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">class</FONT></B> except {
    <B><FONT COLOR="#A020F0">static</FONT></B> <B><FONT COLOR="#A020F0">int</FONT></B> Lo = 0;
    <B><FONT COLOR="#A020F0">static</FONT></B> <B><FONT COLOR="#A020F0">int</FONT></B> Hi = 0;

    <B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">static</FONT></B> <B><FONT COLOR="#A020F0">void</FONT></B> main(String args[]) <B><FONT COLOR="#A020F0">throws</FONT></B> IOException {
	<B><FONT COLOR="#A020F0">int</FONT></B> n = Integer.parseInt(args[0]);

	<B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#A020F0">int</FONT></B> i=0; i&lt;n; i++) {
	    some_function(i);
	}
	System.out.println(<B><FONT COLOR="#BC8F8F">&quot;Exceptions: HI=&quot;</FONT></B> + Hi + <B><FONT COLOR="#BC8F8F">&quot; / LO=&quot;</FONT></B> + Lo);
    }

    <B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">static</FONT></B> <B><FONT COLOR="#A020F0">void</FONT></B> some_function(<B><FONT COLOR="#A020F0">int</FONT></B> n) {
	<B><FONT COLOR="#A020F0">try</FONT></B> {
	    hi_function(n);
	} <B><FONT COLOR="#A020F0">catch</FONT></B> (Exception e) {
	    System.out.println(<B><FONT COLOR="#BC8F8F">&quot;We shouldn't get here: &quot;</FONT></B> + e);
	}
    }

    <B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">static</FONT></B> <B><FONT COLOR="#A020F0">void</FONT></B> hi_function(<B><FONT COLOR="#A020F0">int</FONT></B> n) <B><FONT COLOR="#A020F0">throws</FONT></B> Hi_Exception, Lo_Exception {
	<B><FONT COLOR="#A020F0">try</FONT></B> {
	    lo_function(n);
	} <B><FONT COLOR="#A020F0">catch</FONT></B> (Hi_Exception e) {
	    Hi++;
	}
    }

    <B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">static</FONT></B> <B><FONT COLOR="#A020F0">void</FONT></B> lo_function(<B><FONT COLOR="#A020F0">int</FONT></B> n) <B><FONT COLOR="#A020F0">throws</FONT></B> Hi_Exception, Lo_Exception {
	<B><FONT COLOR="#A020F0">try</FONT></B> {
	    blowup(n);
	} <B><FONT COLOR="#A020F0">catch</FONT></B> (Lo_Exception e) {
	    Lo++;
	}
    }

    <B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">static</FONT></B> <B><FONT COLOR="#A020F0">void</FONT></B> blowup(<B><FONT COLOR="#A020F0">int</FONT></B> n) <B><FONT COLOR="#A020F0">throws</FONT></B> Hi_Exception, Lo_Exception {
	<B><FONT COLOR="#A020F0">if</FONT></B> ((n % 2) == 0) {
	    <B><FONT COLOR="#A020F0">throw</FONT></B> <B><FONT COLOR="#A020F0">new</FONT></B> Lo_Exception(n);
	} <B><FONT COLOR="#A020F0">else</FONT></B> {
	    <B><FONT COLOR="#A020F0">throw</FONT></B> <B><FONT COLOR="#A020F0">new</FONT></B> Hi_Exception(n);
	}
    }
}</pre></td></tr></table>
