<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">%%% $Id: sumcol-oz.code,v 1.1 2004-11-02 08:53:30 bfulgham Exp $
</FONT></I><I><FONT COLOR="#B22222">%%% http://dada.perl.it/shootout/
</FONT></I><B><FONT COLOR="#228B22">functor</FONT></B>
<B><FONT COLOR="#5F9EA0">import</FONT></B> 
    System(printInfo)
    Application(exit)
    Open(text file)
    OS
<B><FONT COLOR="#A020F0">define</FONT></B>
<B><FONT COLOR="#228B22">class</FONT></B> TextFile  
  <B><FONT COLOR="#A020F0">from</FONT></B> Open.file Open.text  
<B><FONT COLOR="#A020F0">end</FONT></B> 

<B><FONT COLOR="#A020F0">fun</FONT></B> {<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">SumLines</FONT></I></B></FONT></B> FILE SUM}
    <B><FONT COLOR="#A020F0">case</FONT></B> {<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">FILE</FONT></I></B></FONT></B> getS($)} <B><FONT COLOR="#A020F0">of</FONT></B> false <B><FONT COLOR="#A020F0">then</FONT></B>
        SUM
    <B><FONT COLOR="#A020F0">elseof</FONT></B> LINE <B><FONT COLOR="#A020F0">then</FONT></B>
        {<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">SumLines</FONT></I></B></FONT></B> FILE SUM+{<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">String</FONT></I></B></FONT></B>.toInt LINE}}
    <B><FONT COLOR="#A020F0">end</FONT></B>
<B><FONT COLOR="#A020F0">end</FONT></B>
    
<B><FONT COLOR="#A020F0">in</FONT></B> 
    <B><FONT COLOR="#5F9EA0">local</FONT></B> STDIN SUM <B><FONT COLOR="#A020F0">in</FONT></B>
        STDIN <B><FONT COLOR="#5F9EA0">=</FONT></B> {<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">New</FONT></I></B></FONT></B> TextFile init(name:stdin)}
        SUM <B><FONT COLOR="#5F9EA0">=</FONT></B> {<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">SumLines</FONT></I></B></FONT></B> STDIN 0}
        {<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">System</FONT></I></B></FONT></B>.printInfo SUM}
        {<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">System</FONT></I></B></FONT></B>.printInfo <B><FONT COLOR="#BC8F8F">&quot;\n&quot;</FONT></B>}
    <B><FONT COLOR="#A020F0">end</FONT></B>
    {<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">Application</FONT></I></B></FONT></B>.exit 0}
<B><FONT COLOR="#A020F0">end</FONT></B></pre></td></tr></table>
