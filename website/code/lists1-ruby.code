<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">#!/usr/bin/ruby
</FONT></I><I><FONT COLOR="#B22222"># -*- mode: ruby -*-
</FONT></I><I><FONT COLOR="#B22222"># $Id: lists1-ruby.code,v 1.1 2004-11-02 08:52:36 bfulgham Exp $
</FONT></I><I><FONT COLOR="#B22222"># http://www.bagley.org/~doug/shootout/
</FONT></I>
<B><FONT COLOR="#A020F0">def</FONT></B> <B><FONT COLOR="#0000FF">main </FONT></B>(n)
    <I><FONT COLOR="#B22222"># create empty list B
</FONT></I>    b = Array.new

    <I><FONT COLOR="#B22222"># create list (A) of integers from 1 through N
</FONT></I>    a = (1..n).to_a

    <I><FONT COLOR="#B22222"># move each individual item from A to B, in a loop, reversing order
</FONT></I>    <B><FONT COLOR="#A020F0">while</FONT></B> (<B><FONT COLOR="#A020F0">not</FONT></B> a.empty?)
	b.push(a.pop)
    <B><FONT COLOR="#A020F0">end</FONT></B>

    <I><FONT COLOR="#B22222"># print first 2 elements of B
</FONT></I>    puts <B><FONT COLOR="#BC8F8F">&quot;#{b[0]} #{b[1]}&quot;</FONT></B>

    <I><FONT COLOR="#B22222"># reverse B (can be done in place)
</FONT></I>    b.reverse!

    <I><FONT COLOR="#B22222"># is 0 a member of B?
</FONT></I>    puts (b.member?(0)) ? <B><FONT COLOR="#BC8F8F">&quot;true&quot;</FONT></B> : <B><FONT COLOR="#BC8F8F">&quot;false&quot;</FONT></B>

    <I><FONT COLOR="#B22222"># is N a member of B?
</FONT></I>    puts (b.member?(n)) ? <B><FONT COLOR="#BC8F8F">&quot;true&quot;</FONT></B> : <B><FONT COLOR="#BC8F8F">&quot;false&quot;</FONT></B>

    <I><FONT COLOR="#B22222"># filter values from B to A that are less than N/2, preserving order
</FONT></I>    mid = n/2;
    a = b.find_all {|i| i &lt; mid}

    <I><FONT COLOR="#B22222"># print first ten items of A
</FONT></I>    puts a[0..9].join(<B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>)

    <I><FONT COLOR="#B22222"># print sum of items in A that are less than 1000
</FONT></I>    sum = 0
    <B><FONT COLOR="#A020F0">for</FONT></B> i <B><FONT COLOR="#A020F0">in</FONT></B> a
	<B><FONT COLOR="#A020F0">if</FONT></B> i &lt; 1000 <B><FONT COLOR="#A020F0">then</FONT></B> sum += i <B><FONT COLOR="#A020F0">end</FONT></B>
    <B><FONT COLOR="#A020F0">end</FONT></B>
    puts sum

    <I><FONT COLOR="#B22222"># append B to end of A
</FONT></I>    a.concat(b)

    <I><FONT COLOR="#B22222"># print length and last element of A
</FONT></I>    puts <B><FONT COLOR="#BC8F8F">&quot;#{a.length} #{a[-1]}&quot;</FONT></B>
<B><FONT COLOR="#A020F0">end</FONT></B>

main(Integer(ARGV.shift || 1))</pre></td></tr></table>
