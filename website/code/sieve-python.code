<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">#!/usr/bin/python 
</FONT></I><I><FONT COLOR="#B22222"># $Id: sieve-python.code,v 1.2 2004-11-08 08:15:52 bfulgham Exp $
</FONT></I><I><FONT COLOR="#B22222"># http://shootout.alioth.debian.org/
</FONT></I><I><FONT COLOR="#B22222"># with help from Brad Knotwell
</FONT></I>
<I><FONT COLOR="#B22222">#uncomment for psyco JIT
</FONT></I><I><FONT COLOR="#B22222">#import psyco
</FONT></I><I><FONT COLOR="#B22222">#psyco.full()
</FONT></I>
<B><FONT COLOR="#A020F0">import</FONT></B> sys

<B><FONT COLOR="#A020F0">def</FONT></B> <B><FONT COLOR="#0000FF">main</FONT></B>():
    <B><FONT COLOR="#A020F0">try</FONT></B>:
        NUM = int(sys.argv[1])
    <B><FONT COLOR="#A020F0">except</FONT></B>:
        NUM = 1

    <B><FONT COLOR="#A020F0">for</FONT></B> foo <B><FONT COLOR="#A020F0">in</FONT></B> xrange(0,NUM):
        count = 0
        flags = (8193) * [1]
        <B><FONT COLOR="#A020F0">for</FONT></B> i <B><FONT COLOR="#A020F0">in</FONT></B> xrange(2,8193):
            <B><FONT COLOR="#A020F0">if</FONT></B> flags[i]:
                <I><FONT COLOR="#B22222"># remove all multiples of prime: i
</FONT></I>                k = i + i
                <B><FONT COLOR="#A020F0">while</FONT></B> k &lt; 8193:
                    flags[k] = 0
                    k = k + i
                count += 1    
    <B><FONT COLOR="#A020F0">print</FONT></B> <B><FONT COLOR="#BC8F8F">&quot;Count:&quot;</FONT></B>, count
    <I><FONT COLOR="#B22222">#uncomment to verify the algorithm
</FONT></I>    <I><FONT COLOR="#B22222">#n = 0
</FONT></I>    <I><FONT COLOR="#B22222">#for i in range(200):
</FONT></I>    <I><FONT COLOR="#B22222">#    if flags[i]:
</FONT></I>    <I><FONT COLOR="#B22222">#        print n
</FONT></I>    <I><FONT COLOR="#B22222">#    n += 1
</FONT></I>
main()












</pre></td></tr></table>
