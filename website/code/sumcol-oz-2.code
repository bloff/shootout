<span class="slc">% The Computer Language Shootout</span>
<span class="slc">% http://shootout.alioth.debian.org/</span>
<span class="slc">% contributed by Isaac Gouy</span>

<span class="kwa">functor</span>
<span class="kwa">import</span> Application System Open

<span class="kwb">define</span>
   <span class="kwa">class</span> TextFile <span class="kwb">from</span> Open.file Open.text <span class="kwb">end</span>
   StdIn <span class="sym">= {</span>New TextFile init<span class="sym">(</span>name<span class="sym">:</span>stdin<span class="sym">)}</span>
   Sum <span class="sym">= {</span>NewCell <span class="num">0</span><span class="sym">}</span>
<span class="kwb">in</span>
   <span class="kwb">for</span> break<span class="sym">:</span>B <span class="kwb">do</span>
      <span class="kwa">local</span> Line <span class="kwb">in</span>
         Line <span class="sym">= {</span>StdIn getS<span class="sym">(</span>$<span class="sym">)}</span>
         <span class="kwb">if</span> Line <span class="sym">==</span> false <span class="kwb">then</span> <span class="sym">{</span>B<span class="sym">}</span> <span class="kwb">end</span>
         Sum <span class="sym">:=</span> &#64;Sum <span class="sym">+ {</span>StringToInt Line<span class="sym">}</span>
      <span class="kwb">end</span>
   <span class="kwb">end</span>
   <span class="sym">{</span>System.showInfo &#64;Sum<span class="sym">}</span>
   <span class="sym">{</span>Application.exit <span class="num">0</span><span class="sym">}</span>
<span class="kwb">end</span>
