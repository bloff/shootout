<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
/* The Great Computer Language Shootout 
   contributed by John van Groningen (Clean Guru!)

   http://shootout.alioth.debian.org/
*/

<B><FONT COLOR="#A020F0">module</FONT></B> reversefile
<B><FONT COLOR="#A020F0">import</FONT></B> StdEnv

Start world 
   # (console, world) = stdio world
   # (lines,f) =  stacklines_from console []
   # f = write_lines lines f
   = fclose f world

stacklines_from f ls
   # (line, f) = freadline f
   | size line==0
	= (ls,f)
    = stacklines_from f [line:ls]

write_lines [line:lines] f = write_lines lines (fwrites line f)
write_lines [] f = f
</pre></td></tr></table>
