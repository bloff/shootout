<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
% ---------------------------------------------------------------------------- %
% reversefile.m
% Ralph Becket &lt;rbeck@microsoft.com&gt;
% Tue Jan  9 11:39:27 GMT 2001
% vim: ts=4 sw=4 et tw=0 wm=0 ff=unix
%
% ---------------------------------------------------------------------------- %

:- module mytest.

:- <B><FONT COLOR="#A020F0">interface</FONT></B>.

:- import_module io.



:- pred main(io__state, io__state).
:- mode main(di, uo) <B><FONT COLOR="#A020F0">is</FONT></B> det.



:- <B><FONT COLOR="#A020F0">implementation</FONT></B>.



:- import_module <B><FONT COLOR="#A020F0">string</FONT></B>, list, require.



main --&gt;
    read_file_reversed([], ReversedLines),
    io__write_list(ReversedLines, &quot;&quot;, io__write_string).



:- pred read_file_reversed(list(<B><FONT COLOR="#A020F0">string</FONT></B>), list(<B><FONT COLOR="#A020F0">string</FONT></B>), io__state, io__state).
:- mode read_file_reversed(<B><FONT COLOR="#A020F0">in</FONT></B>, out, di, uo) <B><FONT COLOR="#A020F0">is</FONT></B> det.

read_file_reversed(RLs0, RLs) --&gt;
    io__read_line_as_string(Result),
    (   <I><FONT COLOR="#B22222">{ Result = ok(Line) }</FONT></I>,      read_file_reversed([Line | RLs0], RLs)
    ;   <I><FONT COLOR="#B22222">{ Result = eof }</FONT></I>,           <I><FONT COLOR="#B22222">{ RLs = RLs0 }</FONT></I>
    ;   <I><FONT COLOR="#B22222">{ Result = error(ErrNo) }</FONT></I>,  <I><FONT COLOR="#B22222">{ error(io__error_message(ErrNo)) }</FONT></I>
    ).</pre></td></tr></table>
