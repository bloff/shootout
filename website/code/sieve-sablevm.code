<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">// $Id: sieve-sablevm.code,v 1.2 2004-11-08 08:15:52 bfulgham Exp $
</FONT></I><I><FONT COLOR="#B22222">// http://www.bagley.org/~doug/shootout/
</FONT></I>
<B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">class</FONT></B> sieve {
    <B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">static</FONT></B> <B><FONT COLOR="#A020F0">void</FONT></B> main(String args[]) {
	<B><FONT COLOR="#A020F0">int</FONT></B> NUM = Integer.parseInt(args[0]);
	<B><FONT COLOR="#A020F0">boolean</FONT></B> [] flags = <B><FONT COLOR="#A020F0">new</FONT></B> <B><FONT COLOR="#A020F0">boolean</FONT></B>[8192 + 1];
	<B><FONT COLOR="#A020F0">int</FONT></B> count = 0;
	<B><FONT COLOR="#A020F0">while</FONT></B> (NUM-- &gt; 0) {
	    count = 0;
	    <B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#A020F0">int</FONT></B> i=2; i &lt;= 8192; i++) {
		flags[i] = <B><FONT COLOR="#A020F0">true</FONT></B>;
	    }
	    <B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#A020F0">int</FONT></B> i=2; i &lt;= 8192; i++) {
		<B><FONT COLOR="#A020F0">if</FONT></B> (flags[i]) {
		    <I><FONT COLOR="#B22222">// remove all multiples of prime: i
</FONT></I>		    <B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#A020F0">int</FONT></B> k=i+i; k &lt;= 8192; k+=i) {
			flags[k] = <B><FONT COLOR="#A020F0">false</FONT></B>;
		    }
		    count++;
		}
	    }
	}  
	System.out.print(<B><FONT COLOR="#BC8F8F">&quot;Count: &quot;</FONT></B> + count + <B><FONT COLOR="#BC8F8F">&quot;\n&quot;</FONT></B>);
    }
}
</pre></td></tr></table>
