<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
define <B><FONT COLOR="#0000FF">main</FONT></B>()
{
   variable count = Assoc_Type[Int_Type, 0];
   foreach (stdin) using (<B><FONT COLOR="#BC8F8F">&quot;line&quot;</FONT></B>)
     {
	variable line = ();
	foreach (strtok (strlow (line), <B><FONT COLOR="#BC8F8F">&quot;^a-z&quot;</FONT></B>))
	  {
	     variable word = ();
	     count [word] += 1;
	  }
     }
   
   variable words = assoc_get_keys (count);
   variable freqs = assoc_get_values (count);

   variable i = array_sort (array_map (String_Type, &amp;sprintf, <B><FONT COLOR="#BC8F8F">&quot;%12d&quot;</FONT></B>, freqs)
			    + words);
   i = i[[-1:0:-1]];
   
   foreach (i)
     {
	i = ();
	()=fprintf (stdout, <B><FONT COLOR="#BC8F8F">&quot;%7d %s\n&quot;</FONT></B>, freqs[i], words[i]);
     }
}

<B><FONT COLOR="#0000FF">main</FONT></B>();</pre></td></tr></table>
