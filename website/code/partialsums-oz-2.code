<span class="slc">% The Computer Language Shootout</span>
<span class="slc">% http://shootout.alioth.debian.org/</span>
<span class="slc">% contributed by Isaac Gouy</span>

<span class="kwa">functor</span>
<span class="kwa">import</span>
   System Application
   S <span class="kwb">at</span> <span class="str">'../../Include/oz/shootout.ozf'</span>
<span class="kwb">define</span>
   TwoThirds <span class="sym">=</span> <span class="num">2.0</span><span class="sym">/</span><span class="num">3.0</span>
   A1 <span class="sym">= {</span>NewCell <span class="num">0.0</span><span class="sym">}</span>
   A2 <span class="sym">= {</span>NewCell <span class="num">0.0</span><span class="sym">}</span>
   A3 <span class="sym">= {</span>NewCell <span class="num">0.0</span><span class="sym">}</span>
   A4 <span class="sym">= {</span>NewCell <span class="num">0.0</span><span class="sym">}</span>
   A5 <span class="sym">= {</span>NewCell <span class="num">0.0</span><span class="sym">}</span>
   A6 <span class="sym">= {</span>NewCell <span class="num">0.0</span><span class="sym">}</span>
   A7 <span class="sym">= {</span>NewCell <span class="num">0.0</span><span class="sym">}</span>
   A8 <span class="sym">= {</span>NewCell <span class="num">0.0</span><span class="sym">}</span>
   A9 <span class="sym">= {</span>NewCell <span class="num">0.0</span><span class="sym">}</span>
   Alt <span class="sym">= {</span>NewCell ~<span class="num">1.0</span><span class="sym">}</span>
   <span class="sym">[</span>Arg<span class="sym">] = {</span>Application.getArgs plain<span class="sym">}</span>
   N <span class="sym">= {</span>String.toInt Arg<span class="sym">}</span>
<span class="kwb">in</span>
   <span class="kwb">for</span> I <span class="kwb">in</span> <span class="num">1</span>..N <span class="kwb">do</span>
      <span class="kwa">local</span> K K2 K3 SK CK <span class="kwb">in</span>
         K <span class="sym">= {</span>IntToFloat I<span class="sym">}</span>
         K2 <span class="sym">=</span> K <span class="sym">*</span> K
         K3 <span class="sym">=</span> K2 <span class="sym">*</span> K
         SK <span class="sym">= {</span>Sin K<span class="sym">}</span>
         CK <span class="sym">= {</span>Cos K<span class="sym">}</span>

         A1 <span class="sym">:=</span> &#64;A1 <span class="sym">+ {</span>Pow TwoThirds K<span class="sym">-</span><span class="num">1.0</span><span class="sym">}</span>
         A2 <span class="sym">:=</span> &#64;A2 <span class="sym">+</span> <span class="num">1.0</span><span class="sym">/{</span>Sqrt K<span class="sym">}</span>
         A3 <span class="sym">:=</span> &#64;A3 <span class="sym">+</span> <span class="num">1.0</span><span class="sym">/(</span>K<span class="sym">*(</span>K<span class="sym">+</span><span class="num">1.0</span><span class="sym">))</span>
         A4 <span class="sym">:=</span> &#64;A4 <span class="sym">+</span> <span class="num">1.0</span><span class="sym">/(</span>K3<span class="sym">*(</span>SK<span class="sym">*</span>SK<span class="sym">))</span>
         A5 <span class="sym">:=</span> &#64;A5 <span class="sym">+</span> <span class="num">1.0</span><span class="sym">/(</span>K3<span class="sym">*(</span>CK<span class="sym">*</span>CK<span class="sym">))</span>
         A6 <span class="sym">:=</span> &#64;A6 <span class="sym">+</span> <span class="num">1.0</span><span class="sym">/</span>K
         A7 <span class="sym">:=</span> &#64;A7 <span class="sym">+</span> <span class="num">1.0</span><span class="sym">/</span>K2

         Alt <span class="sym">:=</span> ~ &#64;Alt
         A8 <span class="sym">:=</span> &#64;A8 <span class="sym">+</span> &#64;Alt<span class="sym">/</span>K
         A9 <span class="sym">:=</span> &#64;A9 <span class="sym">+</span> &#64;Alt<span class="sym">/(</span><span class="num">2.0</span><span class="sym">*</span>K <span class="sym">-</span> <span class="num">1.0</span><span class="sym">)</span>
      <span class="kwb">end</span>
   <span class="kwb">end</span>
   <span class="sym">{</span>System.showInfo <span class="sym">{</span>S.floatToString &#64;A1 <span class="num">9</span><span class="sym">}</span>#<span class="str">&quot;</span><span class="esc">\t</span><span class="str">(2/3)^k&quot;</span><span class="sym">}</span>
   <span class="sym">{</span>System.showInfo <span class="sym">{</span>S.floatToString &#64;A2 <span class="num">9</span><span class="sym">}</span>#<span class="str">&quot;</span><span class="esc">\t</span><span class="str">k^-0.5&quot;</span><span class="sym">}</span>
   <span class="sym">{</span>System.showInfo <span class="sym">{</span>S.floatToString &#64;A3 <span class="num">9</span><span class="sym">}</span>#<span class="str">&quot;</span><span class="esc">\t</span><span class="str">1/k(k+1)&quot;</span><span class="sym">}</span>
   <span class="sym">{</span>System.showInfo <span class="sym">{</span>S.floatToString &#64;A4 <span class="num">9</span><span class="sym">}</span>#<span class="str">&quot;</span><span class="esc">\t</span><span class="str">Flint Hills&quot;</span><span class="sym">}</span>
   <span class="sym">{</span>System.showInfo <span class="sym">{</span>S.floatToString &#64;A5 <span class="num">9</span><span class="sym">}</span>#<span class="str">&quot;</span><span class="esc">\t</span><span class="str">Cookson Hills&quot;</span><span class="sym">}</span>
   <span class="sym">{</span>System.showInfo <span class="sym">{</span>S.floatToString &#64;A6 <span class="num">9</span><span class="sym">}</span>#<span class="str">&quot;</span><span class="esc">\t</span><span class="str">Harmonic&quot;</span><span class="sym">}</span>
   <span class="sym">{</span>System.showInfo <span class="sym">{</span>S.floatToString &#64;A7 <span class="num">9</span><span class="sym">}</span>#<span class="str">&quot;</span><span class="esc">\t</span><span class="str">Riemann Zeta&quot;</span><span class="sym">}</span>
   <span class="sym">{</span>System.showInfo <span class="sym">{</span>S.floatToString &#64;A8 <span class="num">9</span><span class="sym">}</span>#<span class="str">&quot;</span><span class="esc">\t</span><span class="str">Alternating Harmonic&quot;</span><span class="sym">}</span>
   <span class="sym">{</span>System.showInfo <span class="sym">{</span>S.floatToString &#64;A9 <span class="num">9</span><span class="sym">}</span>#<span class="str">&quot;</span><span class="esc">\t</span><span class="str">Gregory&quot;</span><span class="sym">}</span>
   <span class="sym">{</span>Application.exit <span class="num">0</span><span class="sym">}</span>
<span class="kwb">end</span>
