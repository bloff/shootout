<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">/* The Great Computer Language Shootout 
   http://shootout.alioth.debian.org/
   contributed by Isaac Gouy

To compile:	
   nicec --sourcepath=.. -d=. -a hash2.jar hash2

To run:
   java -ea -jar hash2.jar 150
*/</FONT></I>


<B><FONT COLOR="#A020F0">import</FONT></B> ackermann; <I><FONT COLOR="#B22222">// reuse toSinglePositiveInt
</FONT></I>
<B><FONT COLOR="#A020F0">void</FONT></B> main(String[] args){
   var n = toSinglePositiveInt(args);
   let nKeys = 10000;

   let table1 = <B><FONT COLOR="#A020F0">new</FONT></B> HashMap(nKeys);
   let table2 = <B><FONT COLOR="#A020F0">new</FONT></B> HashMap();
   <B><FONT COLOR="#A020F0">for</FONT></B> (<B><FONT COLOR="#A020F0">int</FONT></B> i = 0; i &lt;= nKeys; i++) 
      table1[<B><FONT COLOR="#BC8F8F">&quot;foo_&quot;</FONT></B> + i] = <B><FONT COLOR="#A020F0">new</FONT></B> Cell(value: i);

   String key;
   <B><FONT COLOR="#A020F0">int</FONT></B> v1;        
   ?Cell c2;      <I><FONT COLOR="#B22222">// c2 = table2[key] can be null 
</FONT></I>
   <B><FONT COLOR="#A020F0">while</FONT></B> (n-- &gt; 0) 
     <B><FONT COLOR="#A020F0">for</FONT></B> (each : table1.entrySet) {
         key = each.getKey;
         v1 = each.getValue.value;                       
         <B><FONT COLOR="#A020F0">if</FONT></B> ( (c2 = table2[key]) != <B><FONT COLOR="#A020F0">null</FONT></B>)
            c2.value += v1;   
         <B><FONT COLOR="#A020F0">else</FONT></B> 
            table2[key] = <B><FONT COLOR="#A020F0">new</FONT></B> Cell(value: v1);
      }
   
   print(table1[<B><FONT COLOR="#BC8F8F">&quot;foo_1&quot;</FONT></B>]);
   print(<B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> + table1[<B><FONT COLOR="#BC8F8F">&quot;foo_9999&quot;</FONT></B>]);
   print(<B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> + table2[<B><FONT COLOR="#BC8F8F">&quot;foo_1&quot;</FONT></B>]);
   println(<B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> + table2[<B><FONT COLOR="#BC8F8F">&quot;foo_9999&quot;</FONT></B>]);
}


<B><FONT COLOR="#A020F0">class</FONT></B> Cell { <B><FONT COLOR="#A020F0">int</FONT></B> value; }

toString(Cell c) = c.value.toString;</pre></td></tr></table>
