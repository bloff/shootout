<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">(* The Great Computer Language Shootout
   http://shootout.alioth.debian.org

   contributed by Isaac Gouy (Oberon-2 novice)
*)</FONT></I>

<B><FONT COLOR="#228B22">MODULE</FONT></B> Matrix;
<B><FONT COLOR="#5F9EA0">IMPORT</FONT></B> LangShootout, Out;

<B><FONT COLOR="#5F9EA0">CONST</FONT></B>
   size <B><FONT COLOR="#5F9EA0">=</FONT></B> 30;
   rowSize <B><FONT COLOR="#5F9EA0">=</FONT></B> size;
   rowLast <B><FONT COLOR="#5F9EA0">=</FONT></B> rowSize <B><FONT COLOR="#5F9EA0">-</FONT></B> 1;
   colSize <B><FONT COLOR="#5F9EA0">=</FONT></B> size;
   colLast <B><FONT COLOR="#5F9EA0">=</FONT></B> colSize <B><FONT COLOR="#5F9EA0">-</FONT></B> 1;

<B><FONT COLOR="#A020F0">TYPE</FONT></B>
   Matrix <B><FONT COLOR="#5F9EA0">=</FONT></B> <B><FONT COLOR="#228B22">ARRAY</FONT></B> rowSize, colSize <B><FONT COLOR="#A020F0">OF</FONT></B> <B><FONT COLOR="#228B22">LONGINT</FONT></B>;

<B><FONT COLOR="#A020F0">VAR</FONT></B>
   n: <B><FONT COLOR="#228B22">LONGINT</FONT></B>;
   m1, m2, mm: Matrix;


<B><FONT COLOR="#A020F0">PROCEDURE </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">MakeMatrix</FONT></I></B></FONT></B>(<B><FONT COLOR="#A020F0">VAR</FONT></B> m: Matrix);
<B><FONT COLOR="#A020F0">VAR</FONT></B> i, j, count: <B><FONT COLOR="#228B22">LONGINT</FONT></B>;
<B><FONT COLOR="#A020F0">BEGIN</FONT></B>
   count <B><FONT COLOR="#5F9EA0">:=</FONT></B> 1;
   <B><FONT COLOR="#A020F0">FOR</FONT></B> i <B><FONT COLOR="#5F9EA0">:=</FONT></B> 0 <B><FONT COLOR="#A020F0">TO</FONT></B> rowLast <B><FONT COLOR="#A020F0">DO</FONT></B>
      <B><FONT COLOR="#A020F0">FOR</FONT></B> j <B><FONT COLOR="#5F9EA0">:=</FONT></B> 0 <B><FONT COLOR="#A020F0">TO</FONT></B> colLast <B><FONT COLOR="#A020F0">DO</FONT></B>
         m[i,j] <B><FONT COLOR="#5F9EA0">:=</FONT></B> count;
         <B><FONT COLOR="#A020F0">INC</FONT></B>(count);
      <B><FONT COLOR="#A020F0">END</FONT></B>;
   <B><FONT COLOR="#A020F0">END</FONT></B>;
<B><FONT COLOR="#A020F0">END </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">MakeMatrix</FONT></I></B></FONT></B>;


<B><FONT COLOR="#A020F0">PROCEDURE </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">MatrixMultiply</FONT></I></B></FONT></B>(leftm, rightm: Matrix; <B><FONT COLOR="#A020F0">VAR</FONT></B> m: Matrix);
<B><FONT COLOR="#A020F0">VAR</FONT></B> i, j, k, sumOfProduct: <B><FONT COLOR="#228B22">LONGINT</FONT></B>;
<B><FONT COLOR="#A020F0">BEGIN</FONT></B>
   <B><FONT COLOR="#A020F0">FOR</FONT></B> i <B><FONT COLOR="#5F9EA0">:=</FONT></B> 0 <B><FONT COLOR="#A020F0">TO</FONT></B> rowLast <B><FONT COLOR="#A020F0">DO</FONT></B>
      <B><FONT COLOR="#A020F0">FOR</FONT></B> j <B><FONT COLOR="#5F9EA0">:=</FONT></B> 0 <B><FONT COLOR="#A020F0">TO</FONT></B> colLast <B><FONT COLOR="#A020F0">DO</FONT></B>
         sumOfProduct <B><FONT COLOR="#5F9EA0">:=</FONT></B> 0;
	 <B><FONT COLOR="#A020F0">FOR</FONT></B> k <B><FONT COLOR="#5F9EA0">:=</FONT></B> 0 <B><FONT COLOR="#A020F0">TO</FONT></B> colLast <B><FONT COLOR="#A020F0">DO</FONT></B>
            <B><FONT COLOR="#A020F0">INC</FONT></B>(sumOfProduct, leftm[i,k] <B><FONT COLOR="#5F9EA0">*</FONT></B> rightm[k,j]);
         <B><FONT COLOR="#A020F0">END</FONT></B>;
	 m[i,j] <B><FONT COLOR="#5F9EA0">:=</FONT></B> sumOfProduct;
      <B><FONT COLOR="#A020F0">END</FONT></B>;
   <B><FONT COLOR="#A020F0">END</FONT></B>;
<B><FONT COLOR="#A020F0">END </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">MatrixMultiply</FONT></I></B></FONT></B>;


<B><FONT COLOR="#A020F0">BEGIN</FONT></B>
   n <B><FONT COLOR="#5F9EA0">:=</FONT></B> LangShootout.Argi();

   MakeMatrix(m1);
   MakeMatrix(m2);

   <B><FONT COLOR="#A020F0">WHILE</FONT></B> n <B><FONT COLOR="#5F9EA0">&gt;</FONT></B> 0 <B><FONT COLOR="#A020F0">DO</FONT></B>
      <B><FONT COLOR="#A020F0">DEC</FONT></B>(n);
      MatrixMultiply(m1, m2, mm);
   <B><FONT COLOR="#A020F0">END</FONT></B>;

   Out.Int(mm[0,0],0); Out.Char(20X); Out.Int(mm[2,3],0); Out.Char(20X);
   Out.Int(mm[3,2],0); Out.Char(20X); Out.Int(mm[4,4],0); Out.Ln;
<B><FONT COLOR="#A020F0">END </FONT></B><B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">Matrix</FONT></I></B></FONT></B>.</pre></td></tr></table>
