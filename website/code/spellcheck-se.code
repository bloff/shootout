<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">-- -*- mode: eiffel -*-
</FONT></I><I><FONT COLOR="#B22222">-- $Id: spellcheck-se.code,v 1.2 2004-11-08 08:15:53 bfulgham Exp $
</FONT></I><I><FONT COLOR="#B22222">-- http://shootout.alioth.debian.org/
</FONT></I><I><FONT COLOR="#B22222">-- from Steve Thompson
</FONT></I><I><FONT COLOR="#B22222">-- Updated for current SmartEiffel by Brent Fulgham (with a lot
</FONT></I><I><FONT COLOR="#B22222">--   of help from Philippe Ribet!)
</FONT></I>
<I><FONT COLOR="#B22222">-- &lt;LOC-OFF&gt;
</FONT></I><B><FONT COLOR="#A020F0">indexing</FONT></B>
<B><FONT COLOR="#5F9EA0">   description: </FONT></B><B><FONT COLOR="#BC8F8F">&quot;This class performs the spell check test&quot;</FONT></B> 
<B><FONT COLOR="#5F9EA0">   author : </FONT></B>Steve Thompson
<B><FONT COLOR="#5F9EA0">   email  : </FONT></B><B><FONT COLOR="#BC8F8F">&quot;Steve_Thompson@prodigy.net&quot;</FONT></B>
<B><FONT COLOR="#5F9EA0">   date   : </FONT></B>February 18, 2001
<B><FONT COLOR="#5F9EA0">   compile: </FONT></B><B><FONT COLOR="#BC8F8F">&quot;compile -clean -boost -no_split -O3 spellcheck.e -o spellcheck&quot;</FONT></B>
<B><FONT COLOR="#5F9EA0">   run    : </FONT></B><B><FONT COLOR="#BC8F8F">&quot;spellcheck &lt; Input&quot;</FONT></B>
<I><FONT COLOR="#B22222">-- &lt;LOC-ON&gt;
</FONT></I>
<B><FONT COLOR="#A020F0">class</FONT></B> SPELLCHECK

<B><FONT COLOR="#A020F0">creation</FONT></B> make
   
<B><FONT COLOR="#A020F0">feature</FONT></B> <I><FONT COLOR="#B22222">-- Creation
</FONT></I>   
<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">   make</FONT></I></B></FONT></B> <B><FONT COLOR="#A020F0">is</FONT></B>
      <B><FONT COLOR="#A020F0">do</FONT></B>
	 read_dictionary
	 <B><FONT COLOR="#A020F0">from</FONT></B>
	    std_input.read_line
	 <B><FONT COLOR="#A020F0">until</FONT></B> std_input.end_of_input <B><FONT COLOR="#A020F0">loop</FONT></B>
	    <B><FONT COLOR="#A020F0">if</FONT></B> dictionary.has(std_input.last_string) <B><FONT COLOR="#5F9EA0">=</FONT></B> <B><FONT COLOR="#A020F0">False</FONT></B> <B><FONT COLOR="#A020F0">then</FONT></B>
	       std_output.put_string(std_input.last_string)
	       std_output.put_new_line
	    <B><FONT COLOR="#A020F0">end</FONT></B>
	    std_input.read_line
	 <B><FONT COLOR="#A020F0">end</FONT></B>
      <B><FONT COLOR="#A020F0">end</FONT></B> <I><FONT COLOR="#B22222">-- make
</FONT></I>   
<B><FONT COLOR="#A020F0">feature</FONT></B> <I><FONT COLOR="#B22222">-- Queries
</FONT></I>   
<B><FONT COLOR="#5F9EA0">   dictionary: </FONT></B><B><FONT COLOR="#228B22">DICTIONARY</FONT></B>[<B><FONT COLOR="#228B22">INTEGER</FONT></B>, <B><FONT COLOR="#228B22">STRING</FONT></B>]
   
<B><FONT COLOR="#A020F0">feature</FONT></B> <I><FONT COLOR="#B22222">-- Commands
</FONT></I>   
<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">   read_dictionary</FONT></I></B></FONT></B> <B><FONT COLOR="#A020F0">is</FONT></B>
      <B><FONT COLOR="#A020F0">local</FONT></B>
<B><FONT COLOR="#5F9EA0">	 file: </FONT></B>TEXT_FILE_READ
<B><FONT COLOR="#5F9EA0">	 value: </FONT></B><B><FONT COLOR="#228B22">INTEGER</FONT></B> 
      <B><FONT COLOR="#A020F0">do</FONT></B>
	 value <B><FONT COLOR="#5F9EA0">:=</FONT></B> 1
	 <B><FONT COLOR="#A020F0">from</FONT></B>
	    <B><FONT COLOR="#5F9EA0">!!</FONT></B>dictionary.with_capacity(60000)
	    <B><FONT COLOR="#5F9EA0">!!</FONT></B>file.connect_to(<B><FONT COLOR="#BC8F8F">&quot;Usr.Dict.Words&quot;</FONT></B>)
	 <B><FONT COLOR="#A020F0">until</FONT></B>
	    file.end_of_input
	 <B><FONT COLOR="#A020F0">loop</FONT></B>
	    file.read_line
	    <B><FONT COLOR="#A020F0">if</FONT></B> <B><FONT COLOR="#A020F0">not</FONT></B> file.last_string.is_empty <B><FONT COLOR="#A020F0">then</FONT></B>
	       <B><FONT COLOR="#A020F0">if</FONT></B> <B><FONT COLOR="#A020F0">not</FONT></B> dictionary.has(file.last_string) <B><FONT COLOR="#A020F0">then</FONT></B>
	          dictionary.add(value, file.last_string.twin)
	       <B><FONT COLOR="#A020F0">end</FONT></B>
	    <B><FONT COLOR="#A020F0">end</FONT></B>
	 <B><FONT COLOR="#A020F0">end</FONT></B>
	 file.disconnect
      <B><FONT COLOR="#A020F0">end</FONT></B> <I><FONT COLOR="#B22222">-- read_dictionary
</FONT></I>
<B><FONT COLOR="#A020F0">end</FONT></B></pre></td></tr></table>
