<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<B><FONT COLOR="#A020F0">program</FONT></B> methcall;
<I><FONT COLOR="#B22222">{$MODE objfpc}</FONT></I>

<B><FONT COLOR="#A020F0">uses</FONT></B> SysUtils;

<B><FONT COLOR="#A020F0">type</FONT></B> TToggle = class 
	private
		value : boolean;

	public
		property Bool : boolean read value write value;
		<B><FONT COLOR="#A020F0">procedure</FONT></B> Activate;
<B><FONT COLOR="#A020F0">end</FONT></B>;	

<B><FONT COLOR="#A020F0">type</FONT></B> TNthToggle = class 
	<B><FONT COLOR="#A020F0">constructor</FONT></B> Create;
	private
		value : boolean;
		counter : integer;
		cmax : integer;
	public
		property CountMax : integer read cmax write cmax;
		property Bool : boolean read value write value;
		<B><FONT COLOR="#A020F0">procedure</FONT></B> Activate;
<B><FONT COLOR="#A020F0">end</FONT></B>;

<B><FONT COLOR="#A020F0">constructor</FONT></B> TNthToggle.Create;
<B><FONT COLOR="#A020F0">begin</FONT></B>
	counter := 0;
<B><FONT COLOR="#A020F0">end</FONT></B>;

<B><FONT COLOR="#A020F0">procedure</FONT></B> TToggle.Activate;
<B><FONT COLOR="#A020F0">begin</FONT></B>
	<B><FONT COLOR="#A020F0">if</FONT></B> value = True <B><FONT COLOR="#A020F0">Then</FONT></B>
		value := False
	<B><FONT COLOR="#A020F0">else</FONT></B>
		value := True;
<B><FONT COLOR="#A020F0">end</FONT></B>;

<B><FONT COLOR="#A020F0">procedure</FONT></B> TNthToggle.Activate;
<B><FONT COLOR="#A020F0">begin</FONT></B>
	counter := counter + 1;
	<B><FONT COLOR="#A020F0">if</FONT></B> counter &gt;= cmax <B><FONT COLOR="#A020F0">Then</FONT></B> <B><FONT COLOR="#A020F0">begin</FONT></B>
		<B><FONT COLOR="#A020F0">if</FONT></B> value = True <B><FONT COLOR="#A020F0">Then</FONT></B>
			value := False
		<B><FONT COLOR="#A020F0">Else</FONT></B>
			value := True;
		counter := 0;
	<B><FONT COLOR="#A020F0">end</FONT></B>;
<B><FONT COLOR="#A020F0">end</FONT></B>;


<B><FONT COLOR="#A020F0">var</FONT></B> 
	NUM, i : longint;
	val : boolean;
	oToggle : TToggle;
	onToggle : TNthToggle;
<B><FONT COLOR="#A020F0">begin</FONT></B>
	<B><FONT COLOR="#A020F0">if</FONT></B> ParamCount = 0 <B><FONT COLOR="#A020F0">then</FONT></B>
		NUM := 1
	<B><FONT COLOR="#A020F0">else</FONT></B>
		NUM := StrToInt(ParamStr(1));
		
	<B><FONT COLOR="#A020F0">if</FONT></B> NUM &lt; 1 <B><FONT COLOR="#A020F0">then</FONT></B> NUM := 1;

	val := True;
	oToggle := TToggle.Create;	
	oToggle.Bool := val;
	<B><FONT COLOR="#A020F0">For</FONT></B> i := 1 <B><FONT COLOR="#A020F0">to</FONT></B> NUM <B><FONT COLOR="#A020F0">do</FONT></B>
	<B><FONT COLOR="#A020F0">begin</FONT></B>
		oToggle.Activate;
		val := oToggle.Bool;
	<B><FONT COLOR="#A020F0">end</FONT></B>;
	<B><FONT COLOR="#A020F0">If</FONT></B> val = True <B><FONT COLOR="#A020F0">Then</FONT></B>
		WriteLn(<B><FONT COLOR="#BC8F8F">'true'</FONT></B>)
	<B><FONT COLOR="#A020F0">else</FONT></B>
		WriteLn(<B><FONT COLOR="#BC8F8F">'false'</FONT></B>);

	val := True;
	onToggle := TNthToggle.Create;
	onToggle.Bool := val;
	onToggle.CountMax := 3;
	<B><FONT COLOR="#A020F0">For</FONT></B> i := 1 <B><FONT COLOR="#A020F0">to</FONT></B> NUM <B><FONT COLOR="#A020F0">do</FONT></B>
	<B><FONT COLOR="#A020F0">begin</FONT></B>
		onToggle.Activate;
		val := onToggle.Bool;
	<B><FONT COLOR="#A020F0">end</FONT></B>;
	<B><FONT COLOR="#A020F0">If</FONT></B> val = True <B><FONT COLOR="#A020F0">Then</FONT></B>
		WriteLn(<B><FONT COLOR="#BC8F8F">'true'</FONT></B>)
	<B><FONT COLOR="#A020F0">else</FONT></B>
		WriteLn(<B><FONT COLOR="#BC8F8F">'false'</FONT></B>);
<B><FONT COLOR="#A020F0">end</FONT></B>.</pre></td></tr></table>
