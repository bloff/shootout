BUILD COMMANDS FOR: wordfreq.cmucl

Sat May 14 22:59:14 PDT 2005

CMUCL built with: /usr/bin/lisp -noinit -batch -eval '(load "wordfreq.cmucl_compile")'
### START wordfreq.cmucl_compile
(proclaim '(optimize (speed 3) (safety 0) (debug 0) (compilation-speed 0) (space 0)))
(compile-file "wordfreq.cmucl" :block-compile t  :entry-points '(main))
(quit)
### END wordfreq.cmucl_compile

; Loading #p"/opt/shootout/shootout/bench/wordfreq/tmp/wordfreq.cmucl_compile".

; Python version 1.1, VM version Intel x86 on 14 MAY 05 10:59:16 pm.
; Compiling: /opt/shootout/shootout/bench/wordfreq/tmp/wordfreq.cmucl 14 MAY 05 10:59:15 pm

; Converted ADD-WORD.
; Converted READIT.
; Converted ORDER.
; Converted PRINTIT.
; Converted MAIN.
; Compiling DEFUN ORDER: 

; 
; 
; File: /opt/shootout/shootout/bench/wordfreq/tmp/wordfreq.cmucl

; In: DEFUN PRINTIT

;   (LOOP FOR A ACROSS RES ...)
; --> BLOCK LET ANSI-LOOP::LOOP-BODY TAGBODY SETQ 
; ==>
;   (LENGTH #:G23)
; Note: Unable to optimize due to type uncertainty:
;     The first argument is a (OR NULL VECTOR), not a (SIMPLE-ARRAY * (*)).
; 
; Note: Unable to optimize due to type uncertainty:
;     The first argument is a (OR NULL VECTOR), not a VECTOR.
; 

; In: DEFUN ADD-WORD

;   (LENGTH *WORD*)
; ==>
;   (C::VECTOR-LENGTH VECTOR)
; Note: Unable to optimize due to type uncertainty:
;     The first argument is a BASE-STRING, not a (SIMPLE-ARRAY * (*)).
; 

; In: DEFUN PRINTIT

;   (LOOP FOR A ACROSS RES ...)
; --> BLOCK LET ANSI-LOOP::LOOP-BODY TAGBODY ANSI-LOOP::LOOP-REALLY-DESETQ SETQ 
; --> AREF LET* 
; ==>
;   (KERNEL:DATA-VECTOR-REF ARRAY KERNEL:INDEX)
; Note: Unable to optimize due to type uncertainty:
;     The first argument is a VECTOR, not a SIMPLE-ARRAY.
; 
; Note: Forced to do full call.
;     Unable to do inline array access (cost 5) because:
;     The first argument is a VECTOR, not a (SIMPLE-ARRAY
;                                            (COMPLEX SINGLE-FLOAT) (*)).
;     The result is a T, not a (COMPLEX SINGLE-FLOAT).
;     Unable to do inline array access (cost 5) because:
;     The first argument is a VECTOR, not a (SIMPLE-ARRAY SINGLE-FLOAT (*)).
;     The result is a T, not a SINGLE-FLOAT.
;     etc.
; 

; In: DEFUN ADD-WORD

;   (SETF (GETHASH KEY *HT*) (1+ #))
; --> LET* MULTIPLE-VALUE-BIND LET 
; ==>
;   (LISP::%PUTHASH #:G0 #:G1 #:G3)
; Note: Doing signed word to integer coercion (cost 20).
; 
; Byte Compiling Top-Level Form: 

; Compilation unit finished.
;   6 notes


; wordfreq.x86f written.
; Compilation finished in 0:00:01.
### START wordfreq.cmucl_run
(proclaim '(optimize (speed 3) (safety 0) (debug 0) (compilation-speed 0) (space 0)))
(setq *gc-verbose* nil)
(load "wordfreq.x86f" :verbose nil :print nil)
(main) (quit)
### END wordfreq.cmucl_run


=================================================================
COMMAND LINE (%A is single numeric argument):

 /usr/bin/lisp -noinit -batch -eval '(load "wordfreq.cmucl_run" :verbose nil :print nil)' %A
************************************************************
*   FILE COMPARISON ERROR
************************************************************
L1:   25455 the

L2:   16970 the

************************************************************
*   TEST (wordfreq.cmucl_run) FAILED - ERROR:  wordfreq.cmucl_out differs from Output.10
************************************************************
-rw-r--r--  1 brent brent 54123 Apr  2 21:33 Output.10
-rw-r--r--  1 brent brent 54123 May 15 16:14 wordfreq.cmucl_out
************************************************************
*   FILE COMPARISON ERROR
************************************************************
L1:     150 rest

L2:      50 rest

************************************************************
*   TEST (wordfreq.cmucl_run) FAILED - ERROR:  wordfreq.cmucl_out differs from Output.5
************************************************************
-rw-r--r--  1 brent brent 54123 Apr  2 21:32 Output.5
-rw-r--r--  1 brent brent 54123 May 15 16:16 wordfreq.cmucl_out
************************************************************
*   FILE COMPARISON ERROR
************************************************************
L1:    8485 the

L2:   25455 the

************************************************************
*   TEST (wordfreq.cmucl_run) FAILED - ERROR:  wordfreq.cmucl_out differs from Output.15
************************************************************
-rw-r--r--  1 brent brent 54123 Apr  2 21:33 Output.15
-rw-r--r--  1 brent brent 54123 May 15 16:16 wordfreq.cmucl_out


PROGRAM OUTPUT
==============
   8485 the
   6635 to
   5945 and
   4475 of
   2755 in
   2745 he
   2395 that
   2210 a
   1970 it
   1800 his
   1795 not
   1735 be
   1695 is
   1650 by
   1515 have
   1500 they
   1485 for
   1360 him
   1260 them
   1250 who
   1195 with
   1195 one
   1175 are
   1110 which
   1095 as
    995 but
    965 this
    900 prince
    840 will
    815 their
    780 had
    775 or
    755 so
    745 was
    745 from
    725 those
    670 because
    665 if
    660 you
    660 has
    645 i
    625 all
    615 been
    605 when
    570 more
    535 would
    535 on
    510 himself
    495 were
    495 there
===================================
!!! Note: Truncated to 50 lines !!!
===================================
