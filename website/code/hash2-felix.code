<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">//
</FONT></I><I><FONT COLOR="#B22222">// Contributed by John Skaller
</FONT></I><I><FONT COLOR="#B22222">//
</FONT></I>include <B><FONT COLOR="#BC8F8F">&quot;std&quot;</FONT></B>;
n := atoi(System::argv 1);
include <B><FONT COLOR="#BC8F8F">&quot;stl&quot;</FONT></B>;
open Stl;
open Stl::HashMap;

requires ext_string_hash;

var h1 = HashMap::create[string,<B><FONT COLOR="#228B22">int</FONT></B>]();

var i = 1; until i == 10000 <B><FONT COLOR="#A020F0">do</FONT></B>
  s := <B><FONT COLOR="#BC8F8F">&quot;foo_&quot;</FONT></B> + str i;
  insert (h1, s, i);
  ++i;
done;

var h2 = HashMap::create[string,<B><FONT COLOR="#228B22">int</FONT></B>]();

i=n; until i == 0 <B><FONT COLOR="#A020F0">do</FONT></B>
  var j = begin h1; until j == end h1 <B><FONT COLOR="#A020F0">do</FONT></B>
    k, v := deref j;
    h2.[k] = h2.[k] + v;
    ++j;
  done;
  --i;
done;

print h1.[<B><FONT COLOR="#BC8F8F">&quot;foo_1&quot;</FONT></B>]; print <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>; print h1.[<B><FONT COLOR="#BC8F8F">&quot;foo_9999&quot;</FONT></B>]; print <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> ;
print h2.[<B><FONT COLOR="#BC8F8F">&quot;foo_1&quot;</FONT></B>]; print <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B>; print h2.[<B><FONT COLOR="#BC8F8F">&quot;foo_9999&quot;</FONT></B>]; endl;
</pre></td></tr></table>
