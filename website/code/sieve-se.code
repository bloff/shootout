<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<B><FONT COLOR="#A020F0">class</FONT></B>  SIEVE
<B><FONT COLOR="#A020F0">creation</FONT></B> make
<B><FONT COLOR="#A020F0">feature</FONT></B>

<B><FONT COLOR="#0000FF"><B><I><FONT COLOR="#000000">   make</FONT></I></B></FONT></B> <B><FONT COLOR="#A020F0">is</FONT></B>
      <B><FONT COLOR="#A020F0">local</FONT></B>
<B><FONT COLOR="#5F9EA0">         count: </FONT></B><B><FONT COLOR="#228B22">INTEGER</FONT></B>;
<B><FONT COLOR="#5F9EA0">         is_prime: </FONT></B><B><FONT COLOR="#228B22">FIXED_ARRAY</FONT></B>[<B><FONT COLOR="#228B22">BOOLEAN</FONT></B>];
<B><FONT COLOR="#5F9EA0">         i: </FONT></B><B><FONT COLOR="#228B22">INTEGER</FONT></B>;
<B><FONT COLOR="#5F9EA0">         num: </FONT></B><B><FONT COLOR="#228B22">INTEGER</FONT></B>;
<B><FONT COLOR="#5F9EA0">         j: </FONT></B><B><FONT COLOR="#228B22">INTEGER</FONT></B>;
<B><FONT COLOR="#5F9EA0">         k: </FONT></B><B><FONT COLOR="#228B22">INTEGER</FONT></B>;
      <B><FONT COLOR="#A020F0">do</FONT></B>
         <B><FONT COLOR="#A020F0">if</FONT></B> argument_count <B><FONT COLOR="#5F9EA0">=</FONT></B> 1 <B><FONT COLOR="#A020F0">then</FONT></B>
            num <B><FONT COLOR="#5F9EA0">:=</FONT></B> argument(1).to_integer
         <B><FONT COLOR="#A020F0">else</FONT></B>
            num <B><FONT COLOR="#5F9EA0">:=</FONT></B> 1
         <B><FONT COLOR="#A020F0">end</FONT></B>

         <B><FONT COLOR="#5F9EA0">!!</FONT></B>is_prime.make(8194)

         <B><FONT COLOR="#A020F0">from</FONT></B>
            j <B><FONT COLOR="#5F9EA0">:=</FONT></B> 0
         <B><FONT COLOR="#A020F0">until</FONT></B>
            j <B><FONT COLOR="#5F9EA0">=</FONT></B> num
         <B><FONT COLOR="#A020F0">loop</FONT></B>
            count <B><FONT COLOR="#5F9EA0">:=</FONT></B> 0
            <B><FONT COLOR="#A020F0">from</FONT></B>
               i <B><FONT COLOR="#5F9EA0">:=</FONT></B> 2
            <B><FONT COLOR="#A020F0">until</FONT></B>
               i &gt; 8192
            <B><FONT COLOR="#A020F0">loop</FONT></B>
               is_prime.put(<B><FONT COLOR="#A020F0">True</FONT></B>, i)
               i <B><FONT COLOR="#5F9EA0">:=</FONT></B> i + 1
            <B><FONT COLOR="#A020F0">end</FONT></B>

            <B><FONT COLOR="#A020F0">from</FONT></B>
               i <B><FONT COLOR="#5F9EA0">:=</FONT></B> 2
            <B><FONT COLOR="#A020F0">until</FONT></B>
               i &gt; 8192
            <B><FONT COLOR="#A020F0">loop</FONT></B>
               <B><FONT COLOR="#A020F0">if</FONT></B> is_prime@i <B><FONT COLOR="#A020F0">then</FONT></B>
                  <B><FONT COLOR="#A020F0">from</FONT></B>
                     k <B><FONT COLOR="#5F9EA0">:=</FONT></B> i + i
                  <B><FONT COLOR="#A020F0">until</FONT></B>
                     k &gt; 8192
                  <B><FONT COLOR="#A020F0">loop</FONT></B>
                     is_prime.put(<B><FONT COLOR="#A020F0">False</FONT></B>, k)
                     k <B><FONT COLOR="#5F9EA0">:=</FONT></B> k + i
                  <B><FONT COLOR="#A020F0">end</FONT></B>
                  count <B><FONT COLOR="#5F9EA0">:=</FONT></B> count + 1
               <B><FONT COLOR="#A020F0">end</FONT></B>
               i <B><FONT COLOR="#5F9EA0">:=</FONT></B> i + 1
            <B><FONT COLOR="#A020F0">end</FONT></B>

            j <B><FONT COLOR="#5F9EA0">:=</FONT></B> j + 1
         <B><FONT COLOR="#A020F0">end</FONT></B>

         std_output.put_string(<B><FONT COLOR="#BC8F8F">&quot;Count: &quot;</FONT></B>)
         std_output.put_integer(count)
         std_output.put_character('%N')
      <B><FONT COLOR="#A020F0">end</FONT></B>

<B><FONT COLOR="#A020F0">end</FONT></B></pre></td></tr></table>
