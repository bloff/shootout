<table width="100%" border="0" cellpadding="5" cellspacing="0"><tr><td bgcolor="#FFFFFF"><pre>
<I><FONT COLOR="#B22222">// $Id: wc-gcj.code,v 1.1 2004-11-02 08:53:31 bfulgham Exp $
</FONT></I><I><FONT COLOR="#B22222">// http://www.bagley.org/~doug/shootout/
</FONT></I><I><FONT COLOR="#B22222">// with help from Dirus@programmer.net
</FONT></I>
<B><FONT COLOR="#A020F0">import</FONT></B> java.io.*;
<B><FONT COLOR="#A020F0">import</FONT></B> java.util.*;
<B><FONT COLOR="#A020F0">import</FONT></B> java.text.*;

<I><FONT COLOR="#B22222">// this program modified from:
</FONT></I><I><FONT COLOR="#B22222">//   http://cm.bell-labs.com/cm/cs/who/bwk/interps/pap.html
</FONT></I><I><FONT COLOR="#B22222">// Timing Trials, or, the Trials of Timing: Experiments with Scripting
</FONT></I><I><FONT COLOR="#B22222">// and User-Interface Languages&lt;/a&gt; by Brian W. Kernighan and
</FONT></I><I><FONT COLOR="#B22222">// Christopher J. Van Wyk.
</FONT></I>
<B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">class</FONT></B> wc {
    <B><FONT COLOR="#A020F0">public</FONT></B> <B><FONT COLOR="#A020F0">static</FONT></B> <B><FONT COLOR="#A020F0">void</FONT></B> main(String[] args) {
        <B><FONT COLOR="#A020F0">int</FONT></B> nl = 0, nw = 0, nc = 0;

        <B><FONT COLOR="#A020F0">try</FONT></B> {
            <B><FONT COLOR="#A020F0">byte</FONT></B>[] buff = <B><FONT COLOR="#A020F0">new</FONT></B> <B><FONT COLOR="#A020F0">byte</FONT></B>[4096];
            <B><FONT COLOR="#A020F0">boolean</FONT></B> inword = <B><FONT COLOR="#A020F0">false</FONT></B>;
            <B><FONT COLOR="#A020F0">int</FONT></B> length;
	    <B><FONT COLOR="#A020F0">char</FONT></B> c;

            <B><FONT COLOR="#A020F0">while</FONT></B> ((length = System.in.read(buff)) != -1) {
                nc += length;
                <B><FONT COLOR="#A020F0">for</FONT></B>(<B><FONT COLOR="#A020F0">int</FONT></B> i = 0; i &lt; length; i++) {
                    c = (<B><FONT COLOR="#A020F0">char</FONT></B>)buff[i];
                    <B><FONT COLOR="#A020F0">if</FONT></B> (c == <B><FONT COLOR="#BC8F8F">'\n'</FONT></B>)
                        ++nl;
                    <B><FONT COLOR="#A020F0">if</FONT></B> (Character.isWhitespace(c))
                        inword = <B><FONT COLOR="#A020F0">false</FONT></B>;
                    <B><FONT COLOR="#A020F0">else</FONT></B> <B><FONT COLOR="#A020F0">if</FONT></B> (inword == <B><FONT COLOR="#A020F0">false</FONT></B>) {
                        ++nw;
                        inword = <B><FONT COLOR="#A020F0">true</FONT></B>;
                    }
                }
            }
        } <B><FONT COLOR="#A020F0">catch</FONT></B> (IOException e) {
            System.err.println(e);
            <B><FONT COLOR="#A020F0">return</FONT></B>;
        }
        System.out.println(Integer.toString(nl) + <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> +
                           Integer.toString(nw) + <B><FONT COLOR="#BC8F8F">&quot; &quot;</FONT></B> +
                           Integer.toString(nc));
    }
}</pre></td></tr></table>
