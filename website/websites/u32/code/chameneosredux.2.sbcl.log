
Wed, 29 Sep 2010 17:15:56 GMT

MAKE:
cp: `chameneosredux.sbcl-2.sbcl' and `./chameneosredux.sbcl-2.sbcl' are the same file
SBCL built with: /usr/local/bin/sbcl --userinit /dev/null --batch --eval '(load "chameneosredux.sbcl-2.sbcl_compile")'
### START chameneosredux.sbcl-2.sbcl_compile
(proclaim '(optimize (speed 3) (safety 0) (debug 0) (compilation-speed 0) (space 0)))
(handler-bind ((sb-ext:defconstant-uneql      (lambda (c) (abort c))))      (load (compile-file "chameneosredux.sbcl-2.sbcl" ))) (save-lisp-and-die "sbcl.core" :purify t)
### END chameneosredux.sbcl-2.sbcl_compile


; compiling file "/home/dunham/shootout/bench/chameneosredux/chameneosredux.sbcl-2.sbcl" (written 29 SEP 2010 09:50:28 AM):
; compiling (DEFPACKAGE #:CHAMENEOS-REDUX ...)
; compiling (IN-PACKAGE :CHAMENEOS-REDUX)
; compiling (DEFMACRO DEFUN/FAST ...)
; compiling (DEFMACRO DECLARE-COLORS-MAP ...)
; compiling (DEFUN/FAST SPELL-NUMBER ...)
; compiling (DEFMACRO WITH-THREADS-POOL ...)
; file: /home/dunham/shootout/bench/chameneosredux/chameneosredux.sbcl-2.sbcl
; in: DEFMACRO WITH-THREADS-POOL
;     (LOOP :FOR CHAMENEOS-REDUX::COLOR :IN CHAMENEOS-REDUX::COLORS
;           :FOR CHAMENEOS-REDUX::THREAD-INDEX :FROM 0
;           :COLLECT `(PUSH
;                      (SB-THREAD:MAKE-THREAD
;                       (,CHAMENEOS-REDUX::THREAD-MAKER
;                        ,CHAMENEOS-REDUX::THREAD-INDEX ',CHAMENEOS-REDUX::COLOR)
;                       :NAME
;                       ,(FORMAT NIL "chameneos-worker-~a-~a"
;                                CHAMENEOS-REDUX::THREAD-INDEX
;                                (STRING-DOWNCASE #)))
;                      CHAMENEOS-REDUX::THREADS))
; --> BLOCK LET LET SB-LOOP::WITH-LOOP-LIST-COLLECTION-HEAD LET* 
; --> SB-LOOP::LOOP-BODY TAGBODY SB-LOOP::LOOP-REALLY-DESETQ SETQ THE 1+ 
; ==>
;   (+ CHAMENEOS-REDUX::THREAD-INDEX 1)
; 
; note: forced to do GENERIC-+ (cost 10)
;       unable to do inline fixnum arithmetic (cost 1) because:
;       The first argument is a UNSIGNED-BYTE, not a FIXNUM.
;       The result is a (VALUES (INTEGER 1) &OPTIONAL), not a (VALUES FIXNUM
;                                                                     &REST T).
;       unable to do inline fixnum arithmetic (cost 2) because:
;       The first argument is a UNSIGNED-BYTE, not a FIXNUM.
;       The result is a (VALUES (INTEGER 1) &OPTIONAL), not a (VALUES FIXNUM
;                                                                     &REST T).
;       etc.

; compiling (DEFCONSTANT +PROC-CPUINFO+ ...)
; compiling (DEFMACRO SPIN-WAIT ...)
; file: /home/dunham/shootout/bench/chameneosredux/chameneosredux.sbcl-2.sbcl
; in: DEFMACRO SPIN-WAIT
;     (LENGTH CHAMENEOS-REDUX::LINE)
; 
; note: unable to
;   optimize
; due to type uncertainty:
;   The first argument is a SEQUENCE, not a (SIMPLE-ARRAY * (*)).
; 
; note: unable to
;   optimize
; due to type uncertainty:
;   The first argument is a SEQUENCE, not a VECTOR.

;     (SUBSEQ CHAMENEOS-REDUX::LINE 0 9)
; 
; note: unable to
;   optimize
; due to type uncertainty:
;   The first argument is a (OR CONS VECTOR
;                               SB-KERNEL:EXTENDED-SEQUENCE), not a VECTOR.
; 
; note: unable to
;   optimize
; due to type uncertainty:
;   The first argument is a (OR CONS VECTOR
;                               SB-KERNEL:EXTENDED-SEQUENCE), not a LIST.
; 
; note: unable to
;   optimize
; due to type uncertainty:
;   The first argument is a (OR CONS VECTOR
;                               SB-KERNEL:EXTENDED-SEQUENCE), not a SB-KERNEL:EXTENDED-SEQUENCE.

; compiling (DEFSTRUCT ATOMIC ...)
; compiling (DEFMACRO DEFGAME ...)
; file: /home/dunham/shootout/bench/chameneosredux/chameneosredux.sbcl-2.sbcl
; in: DEFMACRO DEFGAME
;     (LENGTH CHAMENEOS-REDUX::COLORS)
; 
; note: unable to
;   optimize
; due to type uncertainty:
;   The first argument is a SEQUENCE, not a (SIMPLE-ARRAY * (*)).
; 
; note: unable to
;   optimize
; due to type uncertainty:
;   The first argument is a SEQUENCE, not a VECTOR.

; compiling (DECLARE-COLORS-MAP (BLUE + ...) ...)
; compiling (DEFGAME GAME-A ...)
; compiling (DEFGAME GAME-B ...)
; compiling (DEFUN MAIN ...)
; compiling (IN-PACKAGE :CL-USER)
; compiling (DEFUN MAIN ...); 
; compilation unit finished
;   printed 8 notes


; /home/dunham/benchmarksgame_onecore/chameneosredux/tmp/chameneosredux.sbcl-2.fasl written
; compilation finished in 0:00:00.146
[undoing binding stack and other enclosing state... done]
[saving current Lisp image into sbcl.core:
writing 3512 bytes from the read-only space at 0x01000000
writing 2256 bytes from the static space at 0x01100000
writing 27488256 bytes from the dynamic space at 0x09000000
done]
### START chameneosredux.sbcl-2.sbcl_run
(proclaim '(optimize (speed 3) (safety 0) (debug 0) (compilation-speed 0) (space 0)))
(main) (quit)
### END chameneosredux.sbcl-2.sbcl_run

0.67s to complete and log all make actions

COMMAND LINE:
/usr/local/bin/sbcl --noinform --core sbcl.core --userinit /dev/null --load chameneosredux.sbcl-2.sbcl_run 6000000

PROGRAM OUTPUT:
blue + blue -> blue
blue + red -> yellow
blue + yellow -> red
red + blue -> yellow
red + red -> red
red + yellow -> blue
yellow + blue -> red
yellow + red -> blue
yellow + yellow -> yellow

 blue red yellow
4003215 zero
3999452 zero
3997333 zero
 one two zero zero zero zero zero zero

 blue red yellow red yellow blue red yellow red blue
1200147 zero
1200132 zero
1200162 zero
1200140 zero
1200002 zero
1200000 zero
1199924 zero
1199902 zero
1199779 zero
1199812 zero
 one two zero zero zero zero zero zero

