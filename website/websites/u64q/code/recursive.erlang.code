<source>
<def></def><slc>% The Computer Language Shootout</slc><br />
<def></def><slc>% http://shootout.alioth.debian.org/</slc><br />
<def></def><slc>% contributed by Isaac Gouy (Erlang novice)</slc><br />
<def></def><br />
<sym>-</sym><def></def><kwa>module</kwa><def></def><sym>(</sym><def>recursive</def><sym>).</sym><br />
<def></def><sym>-</sym><def></def><kwa>export</kwa><def></def><sym>([</sym><def>main</def><sym>/</sym><def></def><num>1</num><def></def><sym>]).</sym><br />
<def></def><br />
<kwd>main</kwd><def></def><sym>([</sym><def>Arg</def><sym>]) -&gt;</sym><br />
<def>    N</def> <sym>=</sym> <def></def><kwb>list_to_integer</kwb><def></def><sym>(</sym><def>Arg</def><sym>),</sym><br />
<def>    io</def><sym>:</sym><def></def><kwd>fwrite</kwd><def></def><sym>(</sym><def></def><str>&quot;Ack(3,~w): ~w</str><esc>\</esc><str>n&quot;</str><def></def><sym>, [</sym><def>N</def><sym>,</sym> <def></def><kwd>ack</kwd><def></def><sym>(</sym><def></def><num>3</num><def></def><sym>,</sym> <def>N</def><sym>)]),</sym><br />
<def>    io</def><sym>:</sym><def></def><kwd>fwrite</kwd><def></def><sym>(</sym><def></def><str>&quot;Fib(~.1f): ~.1f</str><esc>\</esc><str>n&quot;</str><def></def><sym>, [</sym><def></def><num>27.0</num><def></def><sym>+</sym><def></def><kwb>float</kwb><def></def><sym>(</sym><def>N</def><sym>),</sym> <def></def><kwd>fib</kwd><def></def><sym>(</sym><def></def><num>27.0</num><def></def><sym>+</sym><def></def><kwb>float</kwb><def></def><sym>(</sym><def>N</def><sym>))]),</sym><br />
<def>    M</def><sym>=</sym><def>N</def><sym>-</sym><def></def><num>1</num><def></def><sym>,</sym> <def>io</def><sym>:</sym><def></def><kwd>fwrite</kwd><def></def><sym>(</sym><def></def><str>&quot;Tak(~w,~w,~w): ~w</str><esc>\</esc><str>n&quot;</str><def></def><sym>, [</sym><def>M</def><sym>*</sym><def></def><num>3</num><def></def><sym>,</sym><def>M</def><sym>*</sym><def></def><num>2</num><def></def><sym>,</sym><def>M</def><sym>,</sym> <def></def><kwd>tak</kwd><def></def><sym>(</sym><def>M</def><sym>*</sym><def></def><num>3</num><def></def><sym>,</sym><def>M</def><sym>*</sym><def></def><num>2</num><def></def><sym>,</sym><def>M</def><sym>)]),</sym><br />
<def>    io</def><sym>:</sym><def></def><kwd>fwrite</kwd><def></def><sym>(</sym><def></def><str>&quot;Fib(~w): ~w</str><esc>\</esc><str>n&quot;</str><def></def><sym>, [</sym><def></def><num>3</num><def></def><sym>,</sym> <def></def><kwd>fib</kwd><def></def><sym>(</sym><def></def><num>3</num><def></def><sym>)]),</sym><br />
<def>    io</def><sym>:</sym><def></def><kwd>fwrite</kwd><def></def><sym>(</sym><def></def><str>&quot;Tak(~.1f,~.1f,~.1f): ~.1f</str><esc>\</esc><str>n&quot;</str><def></def><sym>, [</sym><def></def><num>3.0</num><def></def><sym>,</sym><def></def><num>2.0</num><def></def><sym>,</sym><def></def><num>1.0</num><def></def><sym>,</sym> <def></def><kwd>tak</kwd><def></def><sym>(</sym><def></def><num>3.0</num><def></def><sym>,</sym><def></def><num>2.0</num><def></def><sym>,</sym><def></def><num>1.0</num><def></def><sym>)]),</sym><br />
<def></def>    <kwb>halt</kwb><def></def><sym>(</sym><def></def><num>0</num><def></def><sym>).</sym><br />
<def></def><br />
<kwd>ack</kwd><def></def><sym>(</sym><def></def><num>0</num><def></def><sym>,</sym><def>N</def><sym>) -&gt;</sym> <def>N</def><sym>+</sym><def></def><num>1</num><def></def><sym>;</sym><br />
<def></def><kwd>ack</kwd><def></def><sym>(</sym><def>M</def><sym>,</sym><def></def><num>0</num><def></def><sym>) -&gt;</sym> <def></def><kwd>ack</kwd><def></def><sym>(</sym><def>M</def><sym>-</sym><def></def><num>1</num><def></def><sym>,</sym><def></def><num>1</num><def></def><sym>);</sym><br />
<def></def><kwd>ack</kwd><def></def><sym>(</sym><def>M</def><sym>,</sym><def>N</def><sym>) -&gt;</sym> <def></def><kwd>ack</kwd><def></def><sym>(</sym><def>M</def><sym>-</sym><def></def><num>1</num><def></def><sym>,</sym> <def></def><kwd>ack</kwd><def></def><sym>(</sym><def>M</def><sym>,</sym><def>N</def><sym>-</sym><def></def><num>1</num><def></def><sym>)).</sym><br />
<def></def><br />
<kwd>fib</kwd><def></def><sym>(</sym><def>N</def><sym>)</sym> <def></def><kwa>when</kwa> <def>N</def> <sym>&lt;</sym> <def></def><num>2</num><def></def><sym>,</sym> <def></def><kwb>float</kwb><def></def><sym>(</sym><def>N</def><sym>) -&gt;</sym> <def></def><num>1.0</num><def></def><sym>;</sym><br />
<def></def><kwd>fib</kwd><def></def><sym>(</sym><def>N</def><sym>)</sym> <def></def><kwa>when</kwa> <def>N</def> <sym>&lt;</sym> <def></def><num>2</num><def></def><sym>,</sym> <def></def><kwb>integer</kwb><def></def><sym>(</sym><def>N</def><sym>) -&gt;</sym> <def></def><num>1</num><def></def><sym>;</sym><br />
<def></def><kwd>fib</kwd><def></def><sym>(</sym><def>N</def><sym>) -&gt;</sym> <def></def><kwd>fib</kwd><def></def><sym>(</sym><def>N</def><sym>-</sym><def></def><num>2</num><def></def><sym>) +</sym> <def></def><kwd>fib</kwd><def></def><sym>(</sym><def>N</def><sym>-</sym><def></def><num>1</num><def></def><sym>).</sym><br />
<def></def><br />
<kwd>tak</kwd><def></def><sym>(</sym><def>X</def><sym>,</sym> <def>Y</def><sym>,</sym> <def>Z</def><sym>)</sym> <def></def><kwa>when</kwa> <def>Y</def> <sym>&gt;=</sym> <def>X</def> <sym>-&gt;</sym> <def>Z</def><sym>;</sym><br />
<def></def><kwd>tak</kwd><def></def><sym>(</sym><def>X</def><sym>,</sym> <def>Y</def><sym>,</sym> <def>Z</def><sym>) -&gt;</sym> <def></def><kwd>tak</kwd><def></def><sym>(</sym><def></def><kwd>tak</kwd><def></def><sym>(</sym><def>X</def><sym>-</sym><def></def><num>1</num><def></def><sym>,</sym><def>Y</def><sym>,</sym><def>Z</def><sym>),</sym> <def></def><kwd>tak</kwd><def></def><sym>(</sym><def>Y</def><sym>-</sym><def></def><num>1</num><def></def><sym>,</sym><def>Z</def><sym>,</sym><def>X</def><sym>),</sym> <def></def><kwd>tak</kwd><def></def><sym>(</sym><def>Z</def><sym>-</sym><def></def><num>1</num><def></def><sym>,</sym><def>X</def><sym>,</sym><def>Y</def><sym>)).</sym><def></def><br />
</source>
