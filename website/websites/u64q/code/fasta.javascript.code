<source>
<def></def><slc>// The Great Computer Language Shootout</slc><br />
<def></def><slc>//  http://shootout.alioth.debian.org</slc><br />
<def></def><slc>//</slc><br />
<def></def><slc>//  Contributed by Ian Osgood</slc><br />
<def></def><br />
<kwa>var</kwa> <def>last</def> <sym>=</sym> <def></def><num>42</num><def></def><sym>,</sym> <def>A</def> <sym>=</sym> <def></def><num>3877</num><def></def><sym>,</sym> <def>C</def> <sym>=</sym> <def></def><num>29573</num><def></def><sym>,</sym> <def>M</def> <sym>=</sym> <def></def><num>139968</num><def></def><sym>;</sym><br />
<def></def><br />
<kwa>function</kwa> <def></def><kwd>rand</kwd><def></def><sym>(</sym><def></def><kwc>max</kwc><def></def><sym>) {</sym><br />
<def>  last</def> <sym>= (</sym><def>last</def> <sym>*</sym> <def>A</def> <sym>+</sym> <def>C</def><sym>) %</sym> <def>M</def><sym>;</sym><br />
<def></def>  <kwa>return</kwa> <def></def><kwc>max</kwc> <def></def><sym>*</sym> <def>last</def> <sym>/</sym> <def>M</def><sym>;</sym><br />
<def></def><sym>}</sym><br />
<def></def><br />
<kwa>var</kwa> <def>ALU</def> <sym>=</sym><br />
<def></def>  <str>&quot;GGCCGGGCGCGGTGGCTCACGCCTGTAATCCCAGCACTTTGG&quot;</str><def></def> <sym>+</sym><br />
<def></def>  <str>&quot;GAGGCCGAGGCGGGCGGATCACCTGAGGTCAGGAGTTCGAGA&quot;</str><def></def> <sym>+</sym><br />
<def></def>  <str>&quot;CCAGCCTGGCCAACATGGTGAAACCCCGTCTCTACTAAAAAT&quot;</str><def></def> <sym>+</sym><br />
<def></def>  <str>&quot;ACAAAAATTAGCCGGGCGTGGTGGCGCGCGCCTGTAATCCCA&quot;</str><def></def> <sym>+</sym><br />
<def></def>  <str>&quot;GCTACTCGGGAGGCTGAGGCAGGAGAATCGCTTGAACCCGGG&quot;</str><def></def> <sym>+</sym><br />
<def></def>  <str>&quot;AGGCGGAGGTTGCAGTGAGCCGAGATCGCGCCACTGCACTCC&quot;</str><def></def> <sym>+</sym><br />
<def></def>  <str>&quot;AGCCTGGGCGACAGAGCGAGACTCCGTCTCAAAAA&quot;</str><def></def><sym>;</sym><br />
<def></def><br />
<kwa>var</kwa> <def>IUB</def> <sym>= {</sym><br />
<def>  a</def><sym>:</sym><def></def><num>0.27</num><def></def><sym>,</sym> <def>c</def><sym>:</sym><def></def><num>0.12</num><def></def><sym>,</sym> <def>g</def><sym>:</sym><def></def><num>0.12</num><def></def><sym>,</sym> <def>t</def><sym>:</sym><def></def><num>0.27</num><def></def><sym>,</sym><br />
<def>  B</def><sym>:</sym><def></def><num>0.02</num><def></def><sym>,</sym> <def>D</def><sym>:</sym><def></def><num>0.02</num><def></def><sym>,</sym> <def>H</def><sym>:</sym><def></def><num>0.02</num><def></def><sym>,</sym> <def>K</def><sym>:</sym><def></def><num>0.02</num><def></def><sym>,</sym><br />
<def>  M</def><sym>:</sym><def></def><num>0.02</num><def></def><sym>,</sym> <def>N</def><sym>:</sym><def></def><num>0.02</num><def></def><sym>,</sym> <def>R</def><sym>:</sym><def></def><num>0.02</num><def></def><sym>,</sym> <def>S</def><sym>:</sym><def></def><num>0.02</num><def></def><sym>,</sym><br />
<def>  V</def><sym>:</sym><def></def><num>0.02</num><def></def><sym>,</sym> <def>W</def><sym>:</sym><def></def><num>0.02</num><def></def><sym>,</sym> <def>Y</def><sym>:</sym><def></def><num>0.02</num><br />
<def></def><sym>}</sym><br />
<def></def><br />
<kwa>var</kwa> <def>HomoSap</def> <sym>= {</sym><br />
<def>  a</def><sym>:</sym> <def></def><num>0.3029549426680</num><def></def><sym>,</sym><br />
<def>  c</def><sym>:</sym> <def></def><num>0.1979883004921</num><def></def><sym>,</sym><br />
<def>  g</def><sym>:</sym> <def></def><num>0.1975473066391</num><def></def><sym>,</sym><br />
<def>  t</def><sym>:</sym> <def></def><num>0.3015094502008</num><br />
<def></def><sym>}</sym><br />
<def></def><br />
<kwa>function</kwa> <def></def><kwd>makeCumulative</kwd><def></def><sym>(</sym><def>table</def><sym>) {</sym><br />
<def></def>  <kwa>var</kwa> <def>last</def> <sym>=</sym> <def></def><kwa>null</kwa><def></def><sym>;</sym><br />
<def></def>  <kwa>for</kwa> <def></def><sym>(</sym><def></def><kwa>var</kwa> <def>c</def> <kwa>in</kwa> <def>table</def><sym>) {</sym><br />
<def></def>    <kwa>if</kwa> <def></def><sym>(</sym><def>last</def><sym>)</sym> <def>table</def><sym>[</sym><def>c</def><sym>] +=</sym> <def>table</def><sym>[</sym><def>last</def><sym>];</sym><br />
<def>    last</def> <sym>=</sym> <def>c</def><sym>;</sym><br />
<def></def>  <sym>}</sym><br />
<def></def><sym>}</sym><br />
<def></def><br />
<kwa>function</kwa> <def></def><kwd>fastaRepeat</kwd><def></def><sym>(</sym><def>n</def><sym>,</sym> <def>seq</def><sym>) {</sym><br />
<def></def>  <kwa>var</kwa> <def>seqi</def> <sym>=</sym> <def></def><num>0</num><def></def><sym>,</sym> <def>lenOut</def> <sym>=</sym> <def></def><num>60</num><def></def><sym>;</sym><br />
<def></def>  <kwa>while</kwa> <def></def><sym>(</sym><def>n</def><sym>&gt;</sym><def></def><num>0</num><def></def><sym>) {</sym><br />
<def></def>    <kwa>if</kwa> <def></def><sym>(</sym><def>n</def><sym>&lt;</sym><def>lenOut</def><sym>)</sym> <def>lenOut</def> <sym>=</sym> <def>n</def><sym>;</sym><br />
<def></def>    <kwa>if</kwa> <def></def><sym>(</sym><def>seqi</def> <sym>+</sym> <def>lenOut</def> <sym>&lt;</sym> <def>seq</def><sym>.</sym><def></def><kwc>length</kwc><def></def><sym>) {</sym><br />
<def></def>      <kwc>print</kwc><def></def><sym>(</sym> <def>seq</def><sym>.</sym><def></def><kwc>substring</kwc><def></def><sym>(</sym><def>seqi</def><sym>,</sym> <def>seqi</def><sym>+</sym><def>lenOut</def><sym>) );</sym><br />
<def>      seqi</def> <sym>+=</sym> <def>lenOut</def><sym>;</sym><br />
<def></def>    <sym>}</sym> <def></def><kwa>else</kwa> <def></def><sym>{</sym><br />
<def></def>      <kwa>var</kwa> <def>s</def> <sym>=</sym> <def>seq</def><sym>.</sym><def></def><kwc>substring</kwc><def></def><sym>(</sym><def>seqi</def><sym>);</sym><br />
<def>      seqi</def> <sym>=</sym> <def>lenOut</def> <sym>-</sym> <def>s</def><sym>.</sym><def></def><kwc>length</kwc><def></def><sym>;</sym><br />
<def></def>      <kwc>print</kwc><def></def><sym>(</sym> <def>s</def> <sym>+</sym> <def>seq</def><sym>.</sym><def></def><kwc>substring</kwc><def></def><sym>(</sym><def></def><num>0</num><def></def><sym>,</sym> <def>seqi</def><sym>) );</sym><br />
<def></def>    <sym>}</sym><br />
<def>    n</def> <sym>-=</sym> <def>lenOut</def><sym>;</sym><br />
<def></def>  <sym>}</sym><br />
<def></def><sym>}</sym><br />
<def></def><br />
<kwa>function</kwa> <def></def><kwd>fastaRandom</kwd><def></def><sym>(</sym><def>n</def><sym>,</sym> <def>table</def><sym>) {</sym><br />
<def></def>  <kwa>var</kwa> <def>line</def> <sym>=</sym> <def></def><kwa>new</kwa> <def></def><kwc>Array</kwc><def></def><sym>(</sym><def></def><num>60</num><def></def><sym>);</sym><br />
<def></def>  <kwd>makeCumulative</kwd><def></def><sym>(</sym><def>table</def><sym>);</sym><br />
<def></def>  <kwa>while</kwa> <def></def><sym>(</sym><def>n</def><sym>&gt;</sym><def></def><num>0</num><def></def><sym>) {</sym><br />
<def></def>    <kwa>if</kwa> <def></def><sym>(</sym><def>n</def><sym>&lt;</sym><def>line</def><sym>.</sym><def></def><kwc>length</kwc><def></def><sym>)</sym> <def>line</def> <sym>=</sym> <def></def><kwa>new</kwa> <def></def><kwc>Array</kwc><def></def><sym>(</sym><def>n</def><sym>);</sym><br />
<def></def>    <kwa>for</kwa> <def></def><sym>(</sym><def></def><kwa>var</kwa> <def>i</def><sym>=</sym><def></def><num>0</num><def></def><sym>;</sym> <def>i</def><sym>&lt;</sym><def>line</def><sym>.</sym><def></def><kwc>length</kwc><def></def><sym>;</sym> <def>i</def><sym>++) {</sym><br />
<def></def>      <kwa>var</kwa> <def>r</def> <sym>=</sym> <def></def><kwd>rand</kwd><def></def><sym>(</sym><def></def><num>1</num><def></def><sym>);</sym><br />
<def></def>      <kwa>for</kwa> <def></def><sym>(</sym><def></def><kwa>var</kwa> <def>c</def> <kwa>in</kwa> <def>table</def><sym>) {</sym><br />
<def></def>        <kwa>if</kwa> <def></def><sym>(</sym><def>r</def> <sym>&lt;</sym> <def>table</def><sym>[</sym><def>c</def><sym>]) {</sym><br />
<def>          line</def><sym>[</sym><def>i</def><sym>] =</sym> <def>c</def><sym>;</sym><br />
<def></def>          <kwa>break</kwa><def></def><sym>;</sym><br />
<def></def>        <sym>}</sym><br />
<def></def>      <sym>}</sym><br />
<def></def>    <sym>}</sym><br />
<def></def>    <kwc>print</kwc><def></def><sym>(</sym> <def>line</def><sym>.</sym><def></def><kwc>join</kwc><def></def><sym>(</sym><def></def><str>''</str><def></def><sym>) );</sym><br />
<def>    n</def> <sym>-=</sym> <def>line</def><sym>.</sym><def></def><kwc>length</kwc><def></def><sym>;</sym><br />
<def></def>  <sym>}</sym><br />
<def></def><sym>}</sym><br />
<def></def><br />
<kwa>var</kwa> <def>n</def> <sym>=</sym> <def>arguments</def><sym>[</sym><def></def><num>0</num><def></def><sym>]</sym><br />
<def></def><br />
<kwc>print</kwc><def></def><sym>(</sym><def></def><str>&quot;&gt;ONE Homo sapiens alu&quot;</str><def></def><sym>)</sym><br />
<def></def><kwd>fastaRepeat</kwd><def></def><sym>(</sym><def></def><num>2</num><def></def><sym>*</sym><def>n</def><sym>,</sym> <def>ALU</def><sym>)</sym><br />
<def></def><br />
<kwc>print</kwc><def></def><sym>(</sym><def></def><str>&quot;&gt;TWO IUB ambiguity codes&quot;</str><def></def><sym>)</sym><br />
<def></def><kwd>fastaRandom</kwd><def></def><sym>(</sym><def></def><num>3</num><def></def><sym>*</sym><def>n</def><sym>,</sym> <def>IUB</def><sym>)</sym><br />
<def></def><br />
<kwc>print</kwc><def></def><sym>(</sym><def></def><str>&quot;&gt;THREE Homo sapiens frequency&quot;</str><def></def><sym>)</sym><br />
<def></def><kwd>fastaRandom</kwd><def></def><sym>(</sym><def></def><num>5</num><def></def><sym>*</sym><def>n</def><sym>,</sym> <def>HomoSap</def><sym>)</sym><def></def><br />
</source>
