<span class="slc">#!/usr/bin/ruby
</span><span class="slc"># The Great Computer Language Shootout
</span><span class="slc"># http://shootout.alioth.debian.org/
</span><span class="slc">#
</span><span class="slc"># Contributed by Peter Bjarke Olsen
</span><span class="slc"># Modified by Doug King
</span>
seq=Array.new

<span class="kwa">def</span> revcomp<span class="sym">(</span>seq<span class="sym">)
</span>  seq.reverse<span class="sym">!</span>.tr<span class="sym">!(</span><span class="str">'wsatugcyrkmbdhvnATUGCYRKMBDHVN'</span><span class="sym">,</span><span class="str">'WSTAACGRYMKVHDBNTAACGRYMKVHDBN'</span><span class="sym">)
</span>  stringlen=seq.length
  <span class="num">0</span>.step<span class="sym">(</span>stringlen-1<span class="sym">,</span><span class="num">60</span><span class="sym">) {|</span>x<span class="sym">|</span> print seq.slice<span class="sym">(</span>x<span class="sym">,</span><span class="num">60</span><span class="sym">) ,</span> <span class="str">&quot;\n&quot;</span><span class="sym">}
</span><span class="kwa">end

while STDIN</span>.gets
  <span class="kwa">if</span> $_ =~ <span class="sym">/&gt;/
</span>    <span class="kwa">if</span> seq.length <span class="sym">!</span>= <span class="num">0
</span>      revcomp<span class="sym">(</span>seq.join<span class="sym">)
</span>      seq=Array.new
    <span class="kwa">end
</span>    puts $_
  <span class="kwa">else
</span>    sub<span class="sym">(/</span>\n<span class="sym">/,</span><span class="str">''</span><span class="sym">)
</span>    seq.push $_
  <span class="kwa">end
end
</span>revcomp<span class="sym">(</span>seq.join<span class="sym">)</span>
