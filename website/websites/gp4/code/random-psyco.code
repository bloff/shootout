<span class="slc">#!/usr/bin/python</span>
<span class="slc"># $Id: random-psyco.code,v 1.17 2005-11-22 19:54:44 igouy-guest Exp $</span>
<span class="slc"># http://www.bagley.org/~doug/shootout/</span>
<span class="slc"># with help from Brent Burley</span>

<span class="kwc">import</span> sys<span class="sym">,</span> psyco
psyco<span class="sym">.</span><span class="kwd">full</span><span class="sym">()</span>

IM <span class="sym">=</span> <span class="num">139968</span>
IA <span class="sym">=</span> <span class="num">3877</span>
IC <span class="sym">=</span> <span class="num">29573</span>

LAST <span class="sym">=</span> <span class="num">42</span>
<span class="kwb">def</span> <span class="kwd">gen_random</span><span class="sym">(</span><span class="kwa">max</span><span class="sym">):</span>
    <span class="kwa">global</span> LAST
    LAST <span class="sym">= (</span>LAST <span class="sym">*</span> IA <span class="sym">+</span> IC<span class="sym">) %</span> IM
    <span class="kwb">return</span><span class="sym">( (</span><span class="kwa">max</span> <span class="sym">*</span> LAST<span class="sym">) /</span> IM <span class="sym">)</span>

<span class="kwb">def</span> <span class="kwd">main</span><span class="sym">():</span>
    N <span class="sym">=</span> <span class="kwa">int</span><span class="sym">(</span>sys<span class="sym">.</span>argv<span class="sym">[</span><span class="num">1</span><span class="sym">])</span>
    <span class="kwb">if</span> N <span class="sym">&lt;</span> <span class="num">1</span><span class="sym">:</span>
        N <span class="sym">=</span> <span class="num">1</span>
    gr <span class="sym">=</span> gen_random
    <span class="kwb">for</span> i <span class="kwb">in</span> <span class="kwa">xrange</span><span class="sym">(</span><span class="num">1</span><span class="sym">,</span>N<span class="sym">):</span>
        <span class="kwd">gr</span><span class="sym">(</span><span class="num">100.0</span><span class="sym">)</span>
    <span class="kwb">print</span> <span class="str">&quot;%.9f&quot;</span> <span class="sym">%</span> <span class="kwd">gr</span><span class="sym">(</span><span class="num">100.0</span><span class="sym">)</span>

<span class="kwd">main</span><span class="sym">()</span>
