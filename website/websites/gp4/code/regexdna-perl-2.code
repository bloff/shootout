<span class="slc">#!/usr/bin/perl</span>
<span class="slc">#</span>
<span class="slc"># The Computer Language Shootout</span>
<span class="slc"># http://shootout.alioth.debian.org/</span>
<span class="slc">#</span>
<span class="slc"># contributed by Kjetil Skotheim</span>

<span class="kwc">my</span> <span class="kwb">&#64;var</span>    <span class="sym">=</span>qw<span class="sym">/</span>   agggtaaa<span class="sym">|</span>tttaccct
                  <span class="sym">[</span>cgt<span class="sym">]</span>gggtaaa<span class="sym">|</span>tttaccc<span class="sym">[</span>acg<span class="sym">]</span>
                  a<span class="sym">[</span>act<span class="sym">]</span>ggtaaa<span class="sym">|</span>tttacc<span class="sym">[</span>agt<span class="sym">]</span>t
                  ag<span class="sym">[</span>act<span class="sym">]</span>gtaaa<span class="sym">|</span>tttac<span class="sym">[</span>agt<span class="sym">]</span>ct
                  agg<span class="sym">[</span>act<span class="sym">]</span>taaa<span class="sym">|</span>ttta<span class="sym">[</span>agt<span class="sym">]</span>cct
                  aggg<span class="sym">[</span>acg<span class="sym">]</span>aaa<span class="sym">|</span>ttt<span class="sym">[</span>cgt<span class="sym">]</span>ccct
                  agggt<span class="sym">[</span>cgt<span class="sym">]</span>aa<span class="sym">|</span>tt<span class="sym">[</span>acg<span class="sym">]</span>accct
                  agggta<span class="sym">[</span>cgt<span class="sym">]</span>a<span class="sym">|</span>t<span class="sym">[</span>acg<span class="sym">]</span>taccct
                  agggtaa<span class="sym">[</span>cgt<span class="sym">]|[</span>acg<span class="sym">]</span>ttaccct <span class="sym">/;</span>
<span class="kwc">my</span> <span class="kwb">%subst</span>  <span class="sym">=</span>qw<span class="sym">/</span>   <span class="kwd">B</span> <span class="sym">(</span>c<span class="sym">|</span>g<span class="sym">|</span>t<span class="sym">)</span>  <span class="kwd">D</span> <span class="sym">(</span>a<span class="sym">|</span>g<span class="sym">|</span>t<span class="sym">)</span>  <span class="kwd">H</span> <span class="sym">(</span>a<span class="sym">|</span>c<span class="sym">|</span>t<span class="sym">)</span>  <span class="kwd">K</span> <span class="sym">(</span>g<span class="sym">|</span>t<span class="sym">)</span>  <span class="kwd">M</span> <span class="sym">(</span>a<span class="sym">|</span>c<span class="sym">)</span>  <span class="kwd">N</span> <span class="sym">(</span>a<span class="sym">|</span>c<span class="sym">|</span>g<span class="sym">|</span>t<span class="sym">)</span>
                  <span class="kwd">R</span> <span class="sym">(</span>a<span class="sym">|</span>g<span class="sym">)</span>    <span class="kwd">S</span> <span class="sym">(</span>c<span class="sym">|</span>g<span class="sym">)</span>    <span class="kwd">V</span> <span class="sym">(</span>a<span class="sym">|</span>c<span class="sym">|</span>g<span class="sym">)</span>  <span class="kwd">W</span> <span class="sym">(</span>a<span class="sym">|</span>t<span class="sym">)</span>  <span class="kwd">Y</span> <span class="sym">(</span>c<span class="sym">|</span>t<span class="sym">)  /;</span>
undef             <span class="sym">$/;</span>
<span class="kwc">my</span> <span class="kwb">$seq</span>    <span class="sym">=      &lt;</span>STDIN<span class="sym">&gt;;</span>
<span class="kwc">my</span> <span class="kwb">$ilen</span>   <span class="sym">=</span>      length <span class="kwb">$seq</span><span class="sym">;</span>
<span class="kwb">$seq</span>       <span class="sym">=</span>~     s<span class="sym">,(</span>?<span class="sym">:&gt;</span>.<span class="sym">*)</span>?<span class="esc">\n</span><span class="sym">,,</span>g <span class="sym">,</span> study <span class="kwb">$seq</span><span class="sym">;</span>
<span class="kwc">my</span> <span class="kwb">$clen</span>   <span class="sym">=</span>      length <span class="kwb">$seq</span><span class="sym">;</span>
<span class="kwc">my</span> <span class="kwb">$vars</span>   <span class="sym">=</span>      join <span class="str">&quot;|&quot;</span><span class="sym">,</span> <span class="kwb">&#64;var</span><span class="sym">;</span>
<span class="kwc">my</span> <span class="kwb">$seq2</span>   <span class="sym">=</span>      join <span class="str">&quot;|&quot;</span><span class="sym">,</span> <span class="kwb">$seq</span><span class="sym">=</span>~<span class="sym">/(</span>.<span class="sym">{</span><span class="num">8</span><span class="sym">}(</span>?<span class="sym">:</span><span class="kwb">$vars</span><span class="sym">))/</span>gi<span class="sym">;</span>
<span class="kwc">my</span> <span class="kwb">$re</span>     <span class="sym">=</span>      join <span class="str">&quot;&quot;</span><span class="sym">,</span>  keys<span class="kwb">%subst</span><span class="sym">;</span>
<span class="kwb">$seq</span>       <span class="sym">=</span>~     s<span class="sym">,([</span><span class="kwb">$re</span><span class="sym">]),</span><span class="kwb">$subst</span><span class="sym">{</span><span class="kwb">$1</span><span class="sym">},</span>gi<span class="sym">;</span>
print             <span class="str">&quot;$_ &quot;</span>.<span class="sym">(</span><span class="kwb">&#64;d</span><span class="sym">=</span><span class="kwb">$seq2</span><span class="sym">=</span>~<span class="sym">/(</span><span class="kwb">$_</span><span class="sym">)/</span>gi<span class="sym">)</span>.<span class="str">&quot;</span><span class="esc">\n</span><span class="str">&quot;</span> <span class="kwa">for</span> <span class="kwb">&#64;var</span><span class="sym">;</span>
print             <span class="str">&quot;</span><span class="esc">\n</span><span class="str">$ilen</span><span class="esc">\n</span><span class="str">$clen</span><span class="esc">\n</span><span class="str">&quot;</span>.<span class="kwd">length</span><span class="sym">(</span><span class="kwb">$seq</span><span class="sym">)</span>.<span class="str">&quot;</span><span class="esc">\n</span><span class="str">&quot;</span><span class="sym">;</span>
