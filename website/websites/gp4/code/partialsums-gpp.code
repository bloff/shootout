<span class="hl slc">//   The Computer Language Shootout</span>
<span class="hl slc">//   http://shootout.alioth.debian.org/</span>
<span class="hl slc">//   contributed by Greg Buchholz</span>
<span class="hl slc">//   compile with:  -O3 -ffast-math</span>

<span class="hl dir">#include&lt;iostream&gt;</span>
<span class="hl dir">#include &lt;iomanip&gt;</span>
<span class="hl dir">#include&lt;cmath&gt;</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl sym">(</span><span class="hl kwb">int</span> argc<span class="hl sym">,</span> <span class="hl kwb">char</span><span class="hl sym">*</span> argv<span class="hl sym">[])</span>
<span class="hl sym">{</span>
    <span class="hl kwb">int</span> n <span class="hl sym">=</span> <span class="hl kwd">atoi</span><span class="hl sym">(</span>argv<span class="hl sym">[</span><span class="hl num">1</span><span class="hl sym">]);</span>
    <span class="hl kwb">double</span> sum<span class="hl sym">,</span> a<span class="hl sym">,</span> s<span class="hl sym">,</span> s2<span class="hl sym">,</span> c<span class="hl sym">,</span> c2<span class="hl sym">,</span> k2<span class="hl sym">,</span> k3<span class="hl sym">;</span>
    std<span class="hl sym">::</span>cout <span class="hl sym">&lt;&lt;</span> std<span class="hl sym">::</span><span class="hl kwd">setprecision</span><span class="hl sym">(</span><span class="hl num">9</span><span class="hl sym">) &lt;&lt;</span> std<span class="hl sym">::</span>fixed<span class="hl sym">;</span>

<span class="hl dir">#define psum(name,f) sum = 0; for(double k=1; k&lt;=n; k++){ sum+= f;} \</span>
<span class="hl dir">                     std::cout &lt;&lt; sum &lt;&lt;</span> <span class="hl dstr">&quot;</span><span class="hl esc">\t</span><span class="hl dstr">&quot;</span><span class="hl dir"> &lt;&lt; name &lt;&lt; std::endl</span>

    <span class="hl kwd">psum</span><span class="hl sym">(</span><span class="hl str">&quot;(2/3)^k&quot;</span><span class="hl sym">,</span><span class="hl kwd">pow</span><span class="hl sym">(</span><span class="hl num">2.0</span><span class="hl sym">/</span><span class="hl num">3.0</span><span class="hl sym">,</span> k<span class="hl sym">-</span><span class="hl num">1</span><span class="hl sym">));</span>  <span class="hl kwd">psum</span><span class="hl sym">(</span><span class="hl str">&quot;k^-0.5&quot;</span><span class="hl sym">,</span><span class="hl num">1.0</span><span class="hl sym">/</span><span class="hl kwd">sqrt</span><span class="hl sym">(</span>k<span class="hl sym">));</span>
    <span class="hl kwd">psum</span><span class="hl sym">(</span><span class="hl str">&quot;1/k(k+1)&quot;</span><span class="hl sym">,</span><span class="hl num">1.0</span><span class="hl sym">/(</span>k<span class="hl sym">*(</span>k<span class="hl sym">+</span><span class="hl num">1.0</span><span class="hl sym">)));</span>
    <span class="hl kwd">psum</span><span class="hl sym">(</span><span class="hl str">&quot;Flint Hills&quot;</span><span class="hl sym">,  (</span>s<span class="hl sym">=</span><span class="hl kwd">sin</span><span class="hl sym">(</span>k<span class="hl sym">),</span><span class="hl num">1.0</span><span class="hl sym">/(</span>k<span class="hl sym">*</span>k<span class="hl sym">*</span>k <span class="hl sym">*</span> s<span class="hl sym">*</span>s<span class="hl sym">)));</span>
    <span class="hl kwd">psum</span><span class="hl sym">(</span><span class="hl str">&quot;Cookson Hills&quot;</span><span class="hl sym">,(</span>c<span class="hl sym">=</span><span class="hl kwd">cos</span><span class="hl sym">(</span>k<span class="hl sym">),</span><span class="hl num">1.0</span><span class="hl sym">/(</span>k<span class="hl sym">*</span>k<span class="hl sym">*</span>k <span class="hl sym">*</span> c<span class="hl sym">*</span>c<span class="hl sym">)));</span>
    <span class="hl kwd">psum</span><span class="hl sym">(</span><span class="hl str">&quot;Harmonic&quot;</span><span class="hl sym">,</span><span class="hl num">1.0</span><span class="hl sym">/</span>k<span class="hl sym">);</span>  <span class="hl kwd">psum</span><span class="hl sym">(</span><span class="hl str">&quot;Riemann Zeta&quot;</span><span class="hl sym">,</span><span class="hl num">1.0</span><span class="hl sym">/(</span>k<span class="hl sym">*</span>k<span class="hl sym">));</span>
    a <span class="hl sym">= -</span><span class="hl num">1.0</span><span class="hl sym">;</span> <span class="hl kwd">psum</span><span class="hl sym">(</span><span class="hl str">&quot;Alternating Harmonic&quot;</span><span class="hl sym">,(</span>a <span class="hl sym">= -</span>a<span class="hl sym">)/</span>k<span class="hl sym">);</span>
    a <span class="hl sym">= -</span><span class="hl num">1.0</span><span class="hl sym">;</span> <span class="hl kwd">psum</span><span class="hl sym">(</span><span class="hl str">&quot;Gregory&quot;</span><span class="hl sym">,(</span>a <span class="hl sym">= -</span>a<span class="hl sym">)/(</span><span class="hl num">2.0</span><span class="hl sym">*</span>k <span class="hl sym">-</span><span class="hl num">1</span><span class="hl sym">));</span>
<span class="hl sym">}</span>
