<span class="com">&quot;*  The Computer Language Shootout</span>
<span class="com">   http://shootout.alioth.debian.org/</span>
<span class="com">   contributed by Isaac Gouy *&quot;</span>

<span class="sym">!</span>Shootout<span class="sym">.</span>Tests class methodsFor<span class="sym">:</span> <span class="str">'benchmarking'</span><span class="sym">!</span>

ackermann
   <span class="sym">|</span> n <span class="sym">|</span>
   n <span class="sym">:=</span> CEnvironment argv first asNumber<span class="sym">.</span>
   <span class="sym">^</span><span class="str">'Ack(3,'</span><span class="sym">,</span> n printString<span class="sym">,</span> <span class="str">'): '</span><span class="sym">, (</span><span class="num">3</span> ackermann<span class="sym">:</span> n<span class="sym">)</span> printString withNl <span class="sym">! !</span>


<span class="sym">!</span>Core<span class="sym">.</span>SmallInteger methodsFor<span class="sym">:</span> <span class="str">'computer language shootout'</span><span class="sym">!</span>

ackermann<span class="sym">:</span> anInteger
   <span class="sym">^</span><span class="kwa">self</span> <span class="sym">=</span> <span class="num">0</span>
      ifTrue<span class="sym">: [</span>anInteger <span class="sym">+</span> <span class="num">1</span><span class="sym">]</span>
      ifFalse<span class="sym">: [</span>
         anInteger <span class="sym">=</span> <span class="num">0</span>
            ifTrue<span class="sym">: [</span><span class="kwa">self</span> <span class="sym">-</span> <span class="num">1</span> ackermann<span class="sym">:</span>  <span class="num">1</span><span class="sym">]</span>
            ifFalse<span class="sym">: [</span><span class="kwa">self</span> <span class="sym">-</span> <span class="num">1</span> ackermann<span class="sym">: (</span><span class="kwa">self</span> ackermann<span class="sym">:</span> anInteger <span class="sym">-</span> <span class="num">1</span><span class="sym">)] ] ! !</span>
