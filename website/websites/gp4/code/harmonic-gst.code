<span class="com">&quot;  The Great Computer Language Shootout</span>
<span class="com">   http://shootout.alioth.debian.org/</span>
<span class="com"></span>
<span class="com">   contributed by Isaac Gouy</span>
<span class="com"></span>
<span class="com">   To run: gst -QI /usr/local/share/smalltalk/gst.im harmonic.st -a 10000000</span>
<span class="com">&quot;</span>
<span class="com"></span>
<span class="com">!Float methodsFor: 'printing'!</span>
<span class="com"></span>
<span class="com">printStringRoundedTo: anInteger</span>
<span class="com">   | n s |</span>
<span class="com">   n := 0.5d * (10 raisedToInteger: anInteger negated).</span>
<span class="com">   s := ((self sign &lt; 0) ifTrue: [self - n] ifFalse: [self + n]) printString.</span>
<span class="com">   ^s copyFrom: 1 to: (s indexOf: $.) + anInteger ! !</span>
<span class="com"></span>
<span class="com"></span>
<span class="com">| n partialSum |</span>
<span class="com">n := Smalltalk arguments first asInteger.</span>
<span class="com">partialSum := 0.0.</span>
<span class="com">1 to: n do: [:i| partialSum := partialSum + (1.0/i)].</span>
<span class="com"></span>
<span class="com">(partialSum printStringRoundedTo: 9) displayNl !</span>
