<span class="str">&quot;  The Computer Language Shootout</span>
<span class="str">   http://shootout.alioth.debian.org/</span>
<span class="str">   contributed by Isaac Gouy&quot;</span><span class="sym">!</span>

<span class="sym">!</span>Shootout.Tests class methodsFor<span class="sym">:</span> <span class="str">'benchmarking'</span><span class="sym">!</span>

sumcol
   <span class="sym">|</span> stdin sum <span class="sym">|</span>
   stdin <span class="sym">:=</span> ExternalReadStream on<span class="sym">:</span>
      <span class="sym">(</span>ExternalConnection ioAccessor<span class="sym">: (</span>UnixDiskFileAccessor new handle<span class="sym">:</span> <span class="num">0</span><span class="sym">))</span>.

   sum <span class="sym">:=</span> <span class="num">0</span>.
   <span class="sym">[</span>stdin atEnd<span class="sym">]</span> whileFalse<span class="sym">: [</span>
      sum <span class="sym">:=</span> sum <span class="sym">+ (</span>stdin through<span class="sym">:</span> Character cr<span class="sym">)</span> asNumber<span class="sym">]</span>.
   ^sum printString withNl <span class="sym">! !</span>
