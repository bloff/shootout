<span class="com">&quot;*  The Computer Language Shootout</span>
<span class="com">   http://shootout.alioth.debian.org/</span>
<span class="com">   contributed by Isaac Gouy *&quot;</span><span class="sym">!</span>

Smalltalk<span class="sym">.</span>Shootout defineClass<span class="sym">: #</span>Tests
   superclass<span class="sym">: #</span>{Core<span class="sym">.</span>Object}
   indexedType<span class="sym">: #</span>none
   private<span class="sym">:</span> <span class="kwa">false</span>
   instanceVariableNames<span class="sym">:</span> <span class="str">''</span>
   classInstanceVariableNames<span class="sym">:</span> <span class="str">''</span>
   imports<span class="sym">:</span> <span class="str">''</span>
   category<span class="sym">:</span> <span class="str">'ComputerLanguageShootout'</span> <span class="sym">!</span>

<span class="sym">!</span>Shootout<span class="sym">.</span>Tests class methodsFor<span class="sym">:</span> <span class="str">'benchmark scripts'</span><span class="sym">!</span>

sumcol
   <span class="sym">|</span> stdin sum <span class="sym">|</span>
   stdin <span class="sym">:=</span> ExternalReadStream on<span class="sym">:</span>
      <span class="sym">(</span>ExternalConnection ioAccessor<span class="sym">: (</span>UnixDiskFileAccessor new handle<span class="sym">:</span> <span class="num">0</span><span class="sym">)).</span>
   sum <span class="sym">:=</span> <span class="num">0</span><span class="sym">.</span>
   <span class="sym">[</span>stdin atEnd<span class="sym">]</span> whileFalse<span class="sym">: [</span>
      sum <span class="sym">:=</span> sum <span class="sym">+ (</span>stdin upTo<span class="sym">:</span> Character cr<span class="sym">)</span> asNumber<span class="sym">].</span>
   <span class="sym">^</span>sum printString withNl <span class="sym">! !</span>
