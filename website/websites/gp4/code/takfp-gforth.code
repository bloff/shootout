<span class="slc">\ http://shootout.alioth.debian.org</span>
<span class="slc">\ Provided by Ian Osgood</span>

<span class="slc">\ read NUM from last command line argument</span>
<span class="num">0</span><span class="sym">.</span> argc <span class="sym">&#64;</span> <span class="num">1</span><span class="sym">-</span> arg <span class="sym">&gt;</span>float <span class="kwa">drop</span> fconstant NUM

<span class="slc">\ TAK using floating point and locals</span>
<span class="sym">:</span> tak { F<span class="sym">:</span> z F<span class="sym">:</span> y F<span class="sym">:</span> x <span class="sym">--</span> n }
  y x f<span class="sym">&lt;</span> <span class="kwa">if</span>
    y x z <span class="num">1</span>e f<span class="sym">-</span> <span class="kwa">recurse</span>
    x z y <span class="num">1</span>e f<span class="sym">-</span> <span class="kwa">recurse</span>
    z y x <span class="num">1</span>e f<span class="sym">-</span> <span class="kwa">recurse</span>
    <span class="kwa">recurse</span>
  <span class="kwa">else</span> z <span class="kwa">then</span> <span class="sym">;</span>

<span class="slc">\ run tak and print result from FP stack</span>
  NUM fdup <span class="num">2</span>e f<span class="sym">*</span> fover <span class="num">3</span>e f<span class="sym">*</span> tak f<span class="sym">&gt;</span>d d<span class="sym">&gt;</span>s <span class="num">1</span> u<span class="sym">.</span>r <span class="sym">'.</span> <span class="kwa">emit</span> <span class="sym">'</span><span class="num">0</span> <span class="kwa">emit cr</span>

bye <span class="slc">\ done!</span>
