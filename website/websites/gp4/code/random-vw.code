<span class="com">&quot;  The Computer Language Shootout</span>
<span class="com">   http://shootout.alioth.debian.org/</span>
<span class="com">   contributed by Isaac Gouy&quot;!</span>
<span class="com"></span>
<span class="com">!Shootout.Tests class methodsFor: 'benchmarking'!</span>
<span class="com"></span>
<span class="com">random</span>
<span class="com">   | n random answer |</span>
<span class="com">   n := CEnvironment argv first asNumber.</span>
<span class="com">   random := RandomNumber to: 100.</span>
<span class="com">   n timesRepeat: [answer := random next].</span>
<span class="com">   ^(answer asStringWith: 9) withNl ! !</span>
<span class="com"></span>
<span class="com"></span>
<span class="com">Smalltalk.Shootout defineClass: #RandomNumber</span>
<span class="com">	superclass: #{Core.Object}</span>
<span class="com">	indexedType: #none</span>
<span class="com">	private: false</span>
<span class="com">	instanceVariableNames: 'seed scale '</span>
<span class="com">	classInstanceVariableNames: ''</span>
<span class="com">	imports: ''</span>
<span class="com">	category: 'Shootout'!</span>
<span class="com"></span>
<span class="com">Shootout.RandomNumber defineSharedVariable: #Modulus</span>
<span class="com">	private: false</span>
<span class="com">	constant: false</span>
<span class="com">	category: 'computer language shootout'</span>
<span class="com">	initializer: '139968'!</span>
<span class="com"></span>
<span class="com">#{Shootout.RandomNumber.Modulus} initialize!</span>
<span class="com"></span>
<span class="com">Shootout.RandomNumber defineSharedVariable: #FModulus</span>
<span class="com">	private: false</span>
<span class="com">	constant: false</span>
<span class="com">	category: 'computer language shootout'</span>
<span class="com">	initializer: '139968.0d'!</span>
<span class="com"></span>
<span class="com">#{Shootout.RandomNumber.FModulus} initialize!</span>
<span class="com"></span>
<span class="com">Shootout.RandomNumber defineSharedVariable: #Multiplier</span>
<span class="com">	private: false</span>
<span class="com">	constant: false</span>
<span class="com">	category: 'computer language shootout'</span>
<span class="com">	initializer: '3877'!</span>
<span class="com"></span>
<span class="com">#{Shootout.RandomNumber.Multiplier} initialize!</span>
<span class="com"></span>
<span class="com">Shootout.RandomNumber defineSharedVariable: #Increment</span>
<span class="com">	private: false</span>
<span class="com">	constant: false</span>
<span class="com">	category: 'computer language shootout'</span>
<span class="com">	initializer: '29573'!</span>
<span class="com"></span>
<span class="com">#{Shootout.RandomNumber.Increment} initialize!</span>
<span class="com"></span>
<span class="com"></span>
<span class="com">!Shootout.RandomNumber class methodsFor: 'instance creation'!</span>
<span class="com"></span>
<span class="com">to: anInteger</span>
<span class="com">   ^self basicNew to: anInteger ! !</span>
<span class="com"></span>
<span class="com"></span>
<span class="com">!Shootout.RandomNumber methodsFor: 'accessing'!</span>
<span class="com"></span>
<span class="com">next</span>
<span class="com">	seed := (seed * Multiplier + Increment) \\ Modulus.</span>
<span class="com">	^(seed * scale) asDouble / FModulus ! !</span>
<span class="com"></span>
<span class="com">!Shootout.RandomNumber methodsFor: 'private'!</span>
<span class="com"></span>
<span class="com">to: anInteger</span>
<span class="com">   seed := 42.</span>
<span class="com">   scale := anInteger ! !</span>
